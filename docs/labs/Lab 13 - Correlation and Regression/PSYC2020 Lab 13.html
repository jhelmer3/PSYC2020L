<!DOCTYPE html>
<html lang="en"><head>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.33">

  <meta name="author" content="Jessica Helmer">
  <title>PSYC 2020L – Correlation and Regression</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-f563837468303362081e247dddd440d0.css">
  <link rel="stylesheet" href="PSYC2020L_styles.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Correlation and Regression</h1>
  <p class="subtitle">PSYC 2020-A01 / PSYC 6022-A01 | 2025-11-14 | Lab 13</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Jessica Helmer 
</div>
</div>
</div>

</section>
<section id="outline" class="slide level2">
<h2>Outline</h2>
<ul>
<li>Assignment 12 Review</li>
<li>Correlation</li>
<li>Regression</li>
</ul>
<p>Learning objectives:</p>
<p><strong>R:</strong> Correlation, regression</p>
</section>
<section id="assignment-12-review" class="slide level2">
<h2>Assignment 12 Review</h2>
<p>[placeholder for Assignment 12 review]</p>
</section>
<section>
<section id="correlation" class="title-slide slide level1 center">
<h1>Correlation</h1>

</section>
<section id="correlation-1" class="slide level2">
<h2>Correlation</h2>
<p>Measure of association: how strongly are two variables related?</p>
<p>Indexes the linear relationship between two variables</p>
<p>We will cover correlation for two continuous variables</p>
</section>
<section id="correlation-2" class="slide level2">
<h2>Correlation</h2>
<p>Only measures <strong>linear</strong> relationships</p>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Plot</a></li><li><a href="#tabset-1-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell quarto-layout-panel" data-layout-ncol="4" data-layout-align="center">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-2-1.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-2-2.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-2-3.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 25.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-2-4.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a>n <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb1-2"><a></a></span>
<span id="cb1-3"><a></a>d1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">runif</span>(n, <span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-4"><a></a>  <span class="fu">mutate</span>(<span class="at">y =</span> x <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb1-5"><a></a>d2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">runif</span>(n, <span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-6"><a></a>  <span class="fu">mutate</span>(<span class="at">y =</span> <span class="fu">runif</span>(n, <span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb1-7"><a></a>d3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">runif</span>(n, <span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-8"><a></a>  <span class="fu">mutate</span>(<span class="at">y =</span> .<span class="dv">5</span><span class="sc">*</span> (x <span class="sc">-</span> <span class="dv">5</span>)<span class="sc">^</span><span class="dv">2</span>  <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, .<span class="dv">1</span>))</span>
<span id="cb1-9"><a></a>d4 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">runif</span>(n, <span class="dv">1</span>, <span class="dv">9</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, .<span class="dv">5</span>)) <span class="sc">|&gt;</span></span>
<span id="cb1-10"><a></a>  <span class="fu">mutate</span>(<span class="at">y =</span> <span class="fl">2.5</span> <span class="sc">*</span> <span class="fu">sin</span>(<span class="dv">2</span> <span class="sc">*</span> x) <span class="sc">+</span> <span class="dv">5</span> <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, .<span class="dv">2</span>))</span>
<span id="cb1-11"><a></a></span>
<span id="cb1-12"><a></a>sctplt <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb1-13"><a></a>  r <span class="ot">&lt;-</span> <span class="fu">cor</span>(df<span class="sc">$</span>x, df<span class="sc">$</span>y)</span>
<span id="cb1-14"><a></a>  </span>
<span id="cb1-15"><a></a>  df <span class="sc">|&gt;</span></span>
<span id="cb1-16"><a></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb1-17"><a></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb1-18"><a></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb1-19"><a></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb1-20"><a></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb1-21"><a></a>    <span class="fu">guides</span>(<span class="at">y =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>), <span class="at">x =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>)) <span class="sc">+</span></span>
<span id="cb1-22"><a></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"*r* ="</span>, <span class="fu">round</span>(r, <span class="dv">2</span>))) <span class="sc">+</span></span>
<span id="cb1-23"><a></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb1-24"><a></a>    <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>,</span>
<span id="cb1-25"><a></a>          <span class="at">plot.title =</span> ggtext<span class="sc">::</span><span class="fu">element_markdown</span>(<span class="at">hjust =</span> .<span class="dv">5</span>))</span>
<span id="cb1-26"><a></a>}</span>
<span id="cb1-27"><a></a></span>
<span id="cb1-28"><a></a><span class="fu">sctplt</span>(d1)</span>
<span id="cb1-29"><a></a><span class="fu">sctplt</span>(d2)</span>
<span id="cb1-30"><a></a><span class="fu">sctplt</span>(d3)</span>
<span id="cb1-31"><a></a><span class="fu">sctplt</span>(d4)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="correlation-generally" class="slide level2">
<h2>Correlation Generally</h2>
<p><span class="math display">\[ r_{xy} = \frac{\sum_{i=1}^{I} (x_i - \bar{x}) (y_i - \bar{y})}{(n-1)s_x s_y} \]</span></p>
<p>where</p>
<p><span class="subpoint"><span class="math inline">\(i\)</span> = index of observation <span class="math inline">\(i\)</span> out of <span class="math inline">\(I\)</span> total observations</span></p>
<p><span class="subpoint"><span class="math inline">\(\bar{x}\)</span> = mean of <span class="math inline">\(x\)</span></span></p>
<p><span class="subpoint"><span class="math inline">\(\bar{y}\)</span> = mean of <span class="math inline">\(y\)</span></span></p>
<p><span class="subpoint"><span class="math inline">\(s_x\)</span> = standard deviation of <span class="math inline">\(x\)</span></span></p>
<p><span class="subpoint"><span class="math inline">\(s_y\)</span> = standard deviation of <span class="math inline">\(y\)</span></span></p>
</section>
<section id="correlation-generally-1" class="slide level2">
<h2>Correlation Generally</h2>
<p><span class="math display">\[ r_{xy} = \frac{\sum_{i=1}^{I} (x_i - \bar{x}) (y_i - \bar{y})}{(n-1)s_x s_y} \]</span></p>
<p>By subtracting the mean and dividing by the standard deviation, this formula is converting the observations to <em>z</em>-scores.</p>
</section>
<section id="correlation-example" class="slide level2">
<h2>Correlation Example</h2>
<p><span class="math display">\[ r_{xy} = \frac{\sum_{i=1}^{I} (x_i - \bar{x}) (y_i - \bar{y})}{(n-1)s_x s_y} \]</span></p>
<p>Let’s find the correlation between iris’ sepal length and sepal width. For demonstration, let’s only use the first four rows.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a>iris_small <span class="ot">&lt;-</span> iris <span class="sc">|&gt;</span></span>
<span id="cb2-2"><a></a>  <span class="fu">select</span>(Sepal.Length, Sepal.Width) <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a></a>  <span class="fu">head</span>(<span class="dv">4</span>)</span>
<span id="cb2-4"><a></a>iris_small</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Sepal.Width
1          5.1         3.5
2          4.9         3.0
3          4.7         3.2
4          4.6         3.1</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a>x_bar <span class="ot">&lt;-</span> <span class="fu">mean</span>(iris_small<span class="sc">$</span>Sepal.Length)</span>
<span id="cb4-2"><a></a>x_sd <span class="ot">&lt;-</span> <span class="fu">sd</span>(iris_small<span class="sc">$</span>Sepal.Length)</span>
<span id="cb4-3"><a></a></span>
<span id="cb4-4"><a></a>y_bar <span class="ot">&lt;-</span> <span class="fu">mean</span>(iris_small<span class="sc">$</span>Sepal.Width)</span>
<span id="cb4-5"><a></a>y_sd <span class="ot">&lt;-</span> <span class="fu">sd</span>(iris_small<span class="sc">$</span>Sepal.Width)</span>
<span id="cb4-6"><a></a></span>
<span id="cb4-7"><a></a><span class="fu">paste</span>(x_bar, x_sd, y_bar, y_sd, <span class="at">sep =</span> <span class="st">", "</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "4.825, 0.221735578260834, 3.2, 0.216024689946929"</code></pre>
</div>
</div>
</div></div>
</section>
<section id="correlation-example-1" class="slide level2">
<h2>Correlation Example</h2>
<p><span class="math display">\[ r_{xy} = \frac{\sum_{i=1}^{I} (x_i - \bar{x}) (y_i - \bar{y})}{(n-1)s_x s_y} \]</span></p>
<p>Let’s find the correlation between iris’ sepal length and sepal width. For demonstration, let’s only use the first four rows.</p>
<div class="columns">
<div class="column" style="width:58%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a aria-hidden="true" tabindex="-1"></a>iris_small <span class="ot">&lt;-</span> iris_small <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sq_diff_x =</span> Sepal.Length <span class="sc">-</span> x_bar,</span>
<span id="cb6-3"><a aria-hidden="true" tabindex="-1"></a>         <span class="at">sq_diff_y =</span> Sepal.Width <span class="sc">-</span> y_bar,</span>
<span id="cb6-4"><a aria-hidden="true" tabindex="-1"></a>         <span class="at">product =</span> sq_diff_x <span class="sc">*</span> sq_diff_y)</span>
<span id="cb6-5"><a aria-hidden="true" tabindex="-1"></a>iris_small</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Sepal.Width sq_diff_x sq_diff_y product
1          5.1         3.5     0.275       0.3  0.0825
2          4.9         3.0     0.075      -0.2 -0.0150
3          4.7         3.2    -0.125       0.0  0.0000
4          4.6         3.1    -0.225      -0.1  0.0225</code></pre>
</div>
</div>
</div><div class="column" style="width:42%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(iris_small<span class="sc">$</span>product) <span class="sc">/</span></span>
<span id="cb8-2"><a aria-hidden="true" tabindex="-1"></a>  ((<span class="fu">nrow</span>(iris_small) <span class="sc">-</span> <span class="dv">1</span>) <span class="sc">*</span> x_sd <span class="sc">*</span> y_sd)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6263001</code></pre>
</div>
</div>
</div></div>
</section>
<section id="correlation-in-r" class="slide level2">
<h2>Correlation in R</h2>
<p><span class="math display">\[ r_{xy} = \frac{\sum_{i=1}^{I} (x_i - \bar{x}) (y_i - \bar{y})}{(n-1)s_x s_y} \]</span></p>
<p>Let’s find the correlation between iris’ sepal length and sepal width. For demonstration, let’s only use the first four rows.</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a>iris_small <span class="ot">&lt;-</span> iris <span class="sc">|&gt;</span></span>
<span id="cb10-2"><a></a>  <span class="fu">select</span>(Sepal.Length, Sepal.Width) <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a></a>  <span class="fu">head</span>(<span class="dv">4</span>)</span>
<span id="cb10-4"><a></a>iris_small</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Sepal.Width
1          5.1         3.5
2          4.9         3.0
3          4.7         3.2
4          4.6         3.1</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a><span class="fu">cor</span>(iris_small<span class="sc">$</span>Sepal.Length, </span>
<span id="cb12-2"><a></a>    iris_small<span class="sc">$</span>Sepal.Width)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6263001</code></pre>
</div>
</div>
</div></div>
</section>
<section id="correlation-in-r-1" class="slide level2">
<h2>Correlation in R</h2>
<p>As a note, those four points were not actually representative of the general trend!</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Plot</a></li><li><a href="#tabset-2-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-10-1.png" class="quarto-figure quarto-figure-center" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a>iris <span class="sc">|&gt;</span></span>
<span id="cb14-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Sepal.Length, <span class="at">y =</span> Sepal.Width)) <span class="sc">+</span></span>
<span id="cb14-3"><a></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> .<span class="dv">5</span>, <span class="at">shape =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb14-4"><a></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> <span class="fu">head</span>(iris, <span class="dv">4</span>), <span class="at">fill =</span> <span class="st">"#FCACA3"</span>, <span class="at">color =</span> <span class="st">"salmon"</span>, <span class="at">size =</span> <span class="fl">3.3</span>, <span class="at">shape =</span> <span class="dv">23</span>) <span class="sc">+</span></span>
<span id="cb14-5"><a></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>)) <span class="sc">+</span></span>
<span id="cb14-6"><a></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb14-7"><a></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">8</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">5</span>)) <span class="sc">+</span></span>
<span id="cb14-8"><a></a>  <span class="fu">guides</span>(<span class="at">y =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>), <span class="at">x =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>)) <span class="sc">+</span></span>
<span id="cb14-9"><a></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb14-10"><a></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a></a><span class="fu">cor</span>(iris<span class="sc">$</span>Sepal.Length, iris<span class="sc">$</span>Sepal.Width)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -0.1175698</code></pre>
</div>
</div>
</div></div>
</section></section>
<section>
<section id="regression" class="title-slide slide level1 center">
<h1>Regression</h1>

</section>
<section id="regression-1" class="slide level2">
<h2>Regression</h2>
<p>If you are working with just one variable, what is the best way you can represent the data?</p>
<p>If you had to pick just one statistic, what might you choose?</p>
<div class="panel-tabset">
<ul id="tabset-3" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-3-1">Plot</a></li><li><a href="#tabset-3-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1">
<div class="cell quarto-layout-panel" data-layout-ncol="3" data-layout-align="center">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-13-1.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-13-2.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-13-3.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-3-2">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a>n <span class="ot">&lt;-</span> <span class="dv">20</span></span>
<span id="cb17-2"><a></a></span>
<span id="cb17-3"><a></a>d1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">runif</span>(n, <span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-4"><a></a>  <span class="fu">mutate</span>(<span class="at">y =</span> <span class="fu">runif</span>(n, <span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">+</span> <span class="dv">2</span> <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb17-5"><a></a>d2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">runif</span>(n, <span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-6"><a></a>  <span class="fu">mutate</span>(<span class="at">y =</span> <span class="fu">runif</span>(n, <span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb17-7"><a></a>d3 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">runif</span>(n, <span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-8"><a></a>  <span class="fu">mutate</span>(<span class="at">y =</span> <span class="fu">runif</span>(n, <span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">+</span> <span class="sc">-</span><span class="dv">2</span> <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb17-9"><a></a></span>
<span id="cb17-10"><a></a>sctplt_mean <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb17-11"><a></a>  df <span class="sc">|&gt;</span></span>
<span id="cb17-12"><a></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb17-13"><a></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb17-14"><a></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb17-15"><a></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb17-16"><a></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb17-17"><a></a>    <span class="fu">guides</span>(<span class="at">y =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>), <span class="at">x =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>)) <span class="sc">+</span></span>
<span id="cb17-18"><a></a>    <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb17-19"><a></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb17-20"><a></a>    <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span>
<span id="cb17-21"><a></a>}</span>
<span id="cb17-22"><a></a></span>
<span id="cb17-23"><a></a><span class="fu">sctplt_mean</span>(d1)</span>
<span id="cb17-24"><a></a><span class="fu">sctplt_mean</span>(d2)</span>
<span id="cb17-25"><a></a><span class="fu">sctplt_mean</span>(d3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-layout-ncol="4">

</div>
</div>
</div>
</div>
</section>
<section id="regression-2" class="slide level2">
<h2>Regression</h2>
<p>If we consider “best” to mean <em>minimizing the squared distances from the data</em>, the <strong>mean</strong> is the best fit.</p>
<p>The mean has the smallest squared errors from the observations.</p>
<div class="panel-tabset">
<ul id="tabset-4" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-4-1">Plot</a></li><li><a href="#tabset-4-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1">
<div class="cell quarto-layout-panel" data-layout-ncol="3" data-layout-align="center">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-15-1.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-15-2.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-15-3.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-4-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a></a><span class="fu">sctplt_mean</span>(d1) <span class="sc">+</span></span>
<span id="cb18-2"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>, <span class="at">linetype =</span> <span class="st">"longdash"</span>)</span>
<span id="cb18-3"><a></a><span class="fu">sctplt_mean</span>(d2) <span class="sc">+</span></span>
<span id="cb18-4"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>, <span class="at">linetype =</span> <span class="st">"longdash"</span>)</span>
<span id="cb18-5"><a></a><span class="fu">sctplt_mean</span>(d3) <span class="sc">+</span></span>
<span id="cb18-6"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>, <span class="at">linetype =</span> <span class="st">"longdash"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="regression-3" class="slide level2">
<h2>Regression</h2>
<p>If we consider “best” to mean <em>minimizing the squared distances from the data</em>, the <strong>mean</strong> is the best fit.</p>
<p>The mean has the smallest squared errors from the observations.</p>
<div class="panel-tabset">
<ul id="tabset-5" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-5-1">Plot</a></li><li><a href="#tabset-5-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1">
<div class="cell quarto-layout-panel" data-layout-ncol="3" data-layout-align="center">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-17-1.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-17-2.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-17-3.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-5-2">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a></a><span class="fu">sctplt_mean</span>(d1) <span class="sc">+</span></span>
<span id="cb19-2"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>) <span class="sc">+</span></span>
<span id="cb19-3"><a></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">y =</span> y, <span class="at">yend =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb19-4"><a></a>  <span class="fu">geom_point</span>()</span>
<span id="cb19-5"><a></a><span class="fu">sctplt_mean</span>(d2) <span class="sc">+</span></span>
<span id="cb19-6"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>) <span class="sc">+</span></span>
<span id="cb19-7"><a></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">y =</span> y, <span class="at">yend =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb19-8"><a></a>  <span class="fu">geom_point</span>()</span>
<span id="cb19-9"><a></a><span class="fu">sctplt_mean</span>(d3) <span class="sc">+</span></span>
<span id="cb19-10"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>) <span class="sc">+</span></span>
<span id="cb19-11"><a></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">y =</span> y, <span class="at">yend =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb19-12"><a></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-layout-ncol="4">

</div>
</div>
</div>
</div>
</section>
<section id="regression-4" class="slide level2">
<h2>Regression</h2>
<p>This is equivalent to the “mean intercept model” regression equation</p>
<p><span class="math display">\[ y_i = \beta_0 + \epsilon_i \]</span></p>
<div class="panel-tabset">
<ul id="tabset-6" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-6-1">Plot</a></li><li><a href="#tabset-6-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1">
<div class="cell quarto-layout-panel" data-layout-ncol="3" data-layout-align="center">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-19-1.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-19-2.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-19-3.png" class="quarto-figure quarto-figure-center" width="288"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
<div id="tabset-6-2">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a></a><span class="fu">sctplt_mean</span>(d1) <span class="sc">+</span></span>
<span id="cb20-2"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>) <span class="sc">+</span></span>
<span id="cb20-3"><a></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">y =</span> y, <span class="at">yend =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb20-4"><a></a>  <span class="fu">geom_point</span>()</span>
<span id="cb20-5"><a></a><span class="fu">sctplt_mean</span>(d2) <span class="sc">+</span></span>
<span id="cb20-6"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>) <span class="sc">+</span></span>
<span id="cb20-7"><a></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">y =</span> y, <span class="at">yend =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb20-8"><a></a>  <span class="fu">geom_point</span>()</span>
<span id="cb20-9"><a></a><span class="fu">sctplt_mean</span>(d3) <span class="sc">+</span></span>
<span id="cb20-10"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>) <span class="sc">+</span></span>
<span id="cb20-11"><a></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">y =</span> y, <span class="at">yend =</span> <span class="fu">mean</span>(y)), <span class="at">color =</span> <span class="st">"salmon"</span>, <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb20-12"><a></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell quarto-layout-panel" data-layout-ncol="4">

</div>
</div>
</div>
</div>
</section>
<section id="intercept-model-to-regression" class="slide level2">
<h2>Intercept Model to Regression</h2>
<p>When we have <em>one</em> variable of interest, the mean is the best single estimator.</p>
<p><span class="subpoint">○ <span class="math inline">\(y = \beta_0 = \bar{y}\)</span> would be the line of best fit</span></p>
<p>If we have <em>two</em> variables and we want to predict one from the other, we now may need a <em>slope</em> to find a line of best fit.</p>
<p><span class="subpoint">○ This model will typically have both an intercept and a slope</span></p>
</section>
<section id="intercept-model-to-regression-1" class="slide level2">
<h2>Intercept Model to Regression</h2>
<p>We have the same question: which line can represent points most effectively?</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="panel-tabset">
<ul id="tabset-7" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-7-1">Plot</a></li><li><a href="#tabset-7-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-21-1.png" class="quarto-figure quarto-figure-center" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-7-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a>n <span class="ot">&lt;-</span> <span class="dv">30</span></span>
<span id="cb21-2"><a></a></span>
<span id="cb21-3"><a></a>d1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">runif</span>(n, <span class="dv">2</span>, <span class="dv">8</span>) <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb21-4"><a></a>  <span class="fu">mutate</span>(<span class="at">y =</span> <span class="dv">5</span> <span class="sc">+</span> <span class="fl">0.2</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="fu">rnorm</span>(n, <span class="dv">0</span>, <span class="dv">1</span>))</span>
<span id="cb21-5"><a></a></span>
<span id="cb21-6"><a></a>sctplt_reg <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb21-7"><a></a>  df <span class="sc">|&gt;</span></span>
<span id="cb21-8"><a></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> y)) <span class="sc">+</span></span>
<span id="cb21-9"><a></a>    <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb21-10"><a></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb21-11"><a></a>    <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb21-12"><a></a>    <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">10</span>)) <span class="sc">+</span></span>
<span id="cb21-13"><a></a>    <span class="fu">guides</span>(<span class="at">y =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>), <span class="at">x =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>)) <span class="sc">+</span></span>
<span id="cb21-14"><a></a>    <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb21-15"><a></a>    <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>,</span>
<span id="cb21-16"><a></a>          <span class="at">plot.title =</span> ggtext<span class="sc">::</span><span class="fu">element_markdown</span>(<span class="at">hjust =</span> .<span class="dv">5</span>))</span>
<span id="cb21-17"><a></a>}</span>
<span id="cb21-18"><a></a></span>
<span id="cb21-19"><a></a><span class="fu">sctplt_reg</span>(d1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column fragment" style="width:50%;">
<p>Lots of potential lines we could use</p>
</div></div>
</section>
<section id="intercept-model-to-regression-2" class="slide level2">
<h2>Intercept Model to Regression</h2>
<p>We have the same question: which line can represent points most effectively?</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="panel-tabset">
<ul id="tabset-8" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-8-1">Plot</a></li><li><a href="#tabset-8-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-23-1.png" class="quarto-figure quarto-figure-center" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-8-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a></a><span class="fu">sctplt_reg</span>(d1)  <span class="sc">+</span></span>
<span id="cb22-2"><a></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="fu">mean</span>(x)), <span class="at">color =</span> <span class="st">"salmon"</span>) <span class="sc">+</span></span>
<span id="cb22-3"><a></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="dv">0</span>, <span class="at">yend =</span> <span class="dv">10</span>), <span class="at">color =</span> <span class="st">"salmon"</span>) <span class="sc">+</span></span>
<span id="cb22-4"><a></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="dv">2</span>, <span class="at">yend =</span> <span class="dv">8</span>), <span class="at">color =</span> <span class="st">"salmon"</span>) <span class="sc">+</span></span>
<span id="cb22-5"><a></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">0</span>, <span class="at">xend =</span> <span class="dv">10</span>, <span class="at">y =</span> <span class="sc">-</span><span class="dv">2</span>, <span class="at">yend =</span> <span class="dv">12</span>), <span class="at">color =</span> <span class="st">"salmon"</span>) <span class="sc">+</span></span>
<span id="cb22-6"><a></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Lots of potential lines we could use</p>
</div></div>
</section>
<section id="intercept-model-to-regression-3" class="slide level2">
<h2>Intercept Model to Regression</h2>
<p>Considering the relationship of <span class="math inline">\(y\)</span> with another variable <span class="math inline">\(x\)</span></p>
<p><span class="math display">\[ y_i = \beta_0 + \beta_1 \times x_i + \epsilon_i \]</span></p>
<p>where</p>
<p><span class="subpoint"><span class="math inline">\(i\)</span> = index of observation <span class="math inline">\(i\)</span> out of <span class="math inline">\(I\)</span> total observations</span></p>
<p><span class="subpoint"><span class="math inline">\(y\)</span> = outcome</span></p>
<p><span class="subpoint"><span class="math inline">\(x\)</span> = predictor</span></p>
<p><span class="subpoint"><span class="math inline">\(\beta_0\)</span> = intercept</span></p>
<p><span class="subpoint"><span class="math inline">\(\beta_1\)</span> = slope for <span class="math inline">\(x\)</span></span></p>
</section>
<section id="regression-example-in-r" class="slide level2">
<h2>Regression Example in R</h2>
<p><code>lm(y ~ x, data = data)</code></p>
<p><span class="subpoint">○ <code>y</code> = outcome</span></p>
<p><span class="subpoint">○ <code>x</code> = predictor, use <code>1</code> for just intercept</span></p>
<p><span class="subpoint">○ <code>data</code> = dataframe that includes <code>x</code> and <code>y</code></span></p>
<p><code>summary(model)</code> to see results</p>
</section>
<section id="regression-example-penguins" class="slide level2">
<h2>Regression Example: <code>penguins</code></h2>
<p>Let’s predict penguins’ body mass!</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="panel-tabset">
<ul id="tabset-9" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-9-1">Plot</a></li><li><a href="#tabset-9-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-25-1.png" class="quarto-figure quarto-figure-center" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-9-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb23-2"><a></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb23-3"><a></a>p <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span></span>
<span id="cb23-4"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> body_mass_g, <span class="at">x =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb23-5"><a></a>  <span class="fu">geom_jitter</span>() <span class="sc">+</span></span>
<span id="cb23-6"><a></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb23-7"><a></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">4500</span>, <span class="dv">7000</span>)) <span class="sc">+</span></span>
<span id="cb23-8"><a></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">7000</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.4</span>, <span class="fl">0.6</span>)) <span class="sc">+</span></span>
<span id="cb23-9"><a></a>  <span class="fu">guides</span>(<span class="at">y =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>), <span class="at">x =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb23-10"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb23-11"><a></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb23-12"><a></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span>
<span id="cb23-13"><a></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column fragment" style="width:50%;">
<p>With just this one variable, what would be our best prediction for these data?</p>
</div></div>
</section>
<section id="regression-example-in-r-intercept-only" class="slide level2">
<h2>Regression Example in R: Intercept only</h2>
<div class="fragment">
<div class="cell column-screen">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a>penguins_m0 <span class="ot">&lt;-</span> <span class="fu">lm</span>(body_mass_g <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> penguins)</span>
<span id="cb24-2"><a></a><span class="fu">summary</span>(penguins_m0)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = body_mass_g ~ 1, data = penguins)

Residuals:
    Min      1Q  Median      3Q     Max 
-1501.8  -651.8  -151.8   548.2  2098.2 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  4201.75      43.36   96.89   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 802 on 341 degrees of freedom
  (2 observations deleted due to missingness)</code></pre>
</div>
</div>
</div>
</section>
<section id="regression-example-in-r-predictions" class="slide level2">
<h2>Regression Example in R: Predictions</h2>
<p>We can extract predicted values to create our line of best fit with <code>predict(model, newdata)</code></p>
<div class="subpoint">
○ <code>newdata</code> = dataframe containing theoretical values of the predictor(s)]
</div>
<div class="subsubpoint">
○ Should have the same column name(s)
</div>
<div class="subsubpoint">
○ Don’t need for intercept-only
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a></a><span class="fu">predict</span>(penguins_m0) <span class="sc">|&gt;</span></span>
<span id="cb26-2"><a></a>  <span class="fu">head</span>(<span class="dv">16</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       1        2        3        5        6        7        8        9 
4201.754 4201.754 4201.754 4201.754 4201.754 4201.754 4201.754 4201.754 
      10       11       12       13       14       15       16       17 
4201.754 4201.754 4201.754 4201.754 4201.754 4201.754 4201.754 4201.754 </code></pre>
</div>
</div>
<div class="columns" style="font-size:90%">
<div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a aria-hidden="true" tabindex="-1"></a>penguins_m0 <span class="sc">|&gt;</span> <span class="fu">predict</span>() <span class="sc">|&gt;</span></span>
<span id="cb28-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">length</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 342</code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">select</span>(body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb30-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 344</code></pre>
</div>
</div>
</div><div class="column" style="width:33%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a aria-hidden="true" tabindex="-1"></a>penguins <span class="sc">|&gt;</span> <span class="fu">select</span>(body_mass_g) <span class="sc">|&gt;</span></span>
<span id="cb32-2"><a aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">|&gt;</span> <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 342</code></pre>
</div>
</div>
</div></div>
</section>
<section id="regression-example-penguins-1" class="slide level2">
<h2>Regression Example: <code>penguins</code></h2>
<p>Let’s predict penguins’ body mass!</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="panel-tabset">
<ul id="tabset-10" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-10-1">Plot</a></li><li><a href="#tabset-10-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-32-1.png" class="quarto-figure quarto-figure-center" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-10-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a></a><span class="fu">library</span>(palmerpenguins)</span>
<span id="cb34-2"><a></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb34-3"><a></a>p <span class="ot">&lt;-</span> penguins <span class="sc">|&gt;</span></span>
<span id="cb34-4"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> body_mass_g, <span class="at">x =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb34-5"><a></a>  <span class="fu">geom_jitter</span>() <span class="sc">+</span></span>
<span id="cb34-6"><a></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb34-7"><a></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">4500</span>, <span class="dv">7000</span>)) <span class="sc">+</span></span>
<span id="cb34-8"><a></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">7000</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">0.4</span>, <span class="fl">0.6</span>)) <span class="sc">+</span></span>
<span id="cb34-9"><a></a>  <span class="fu">guides</span>(<span class="at">y =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>), <span class="at">x =</span> <span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb34-10"><a></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb34-11"><a></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb34-12"><a></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span>
<span id="cb34-13"><a></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column fragment" style="width:50%;">
<p>With just this one variable, what would be our best prediction for these data? <span class="fragment">The mean!</span></p>
</div></div>
</section>
<section id="regression-example-penguins-2" class="slide level2">
<h2>Regression Example: <code>penguins</code></h2>
<p>Let’s predict penguins’ body mass!</p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="panel-tabset">
<ul id="tabset-11" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-11-1">Plot</a></li><li><a href="#tabset-11-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-11-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-34-1.png" class="quarto-figure quarto-figure-center" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-11-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a></a>p <span class="sc">+</span> <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm=</span>T)),</span>
<span id="cb35-2"><a></a>             <span class="at">color =</span> <span class="st">"seagreen3"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb35-3"><a></a>  <span class="fu">stat_summary</span>(<span class="fu">aes</span>(<span class="at">x =</span> .<span class="dv">52</span>, <span class="at">y =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm=</span>T),</span>
<span id="cb35-4"><a></a>                   <span class="at">label =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm=</span>T) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">1</span>)), <span class="at">geom =</span> <span class="st">"text"</span>,</span>
<span id="cb35-5"><a></a>               <span class="at">fun =</span> mean, <span class="at">vjust =</span> <span class="sc">-</span>.<span class="dv">45</span>, <span class="at">color =</span> <span class="st">"seagreen3"</span>, <span class="at">size =</span> <span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>With just this one variable, what would be our best prediction for these data? The mean!</p>
<p><span class="fragment">If we needed to predict any random penguin’s body mass with only these data, our <em>best estimate</em> would be the mean, 4201.8.</span></p>
<p><span class="fragment">Now, let’s take into account another variable: a penguin’s flipper length</span></p>
</div></div>
</section>
<section id="regression-example-penguins-3" class="slide level2">
<h2>Regression Example: <code>penguins</code></h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="panel-tabset">
<ul id="tabset-12" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-12-1">Plot</a></li><li><a href="#tabset-12-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-12-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-36-1.png" class="quarto-figure quarto-figure-center" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-12-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb36-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> body_mass_g, <span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb36-3"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm=</span>T)),</span>
<span id="cb36-4"><a></a>             <span class="at">color =</span> <span class="st">"seagreen3"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb36-5"><a></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb36-6"><a></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">170</span>, <span class="dv">210</span>, <span class="dv">250</span>)) <span class="sc">+</span></span>
<span id="cb36-7"><a></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">4500</span>, <span class="dv">7000</span>)) <span class="sc">+</span></span>
<span id="cb36-8"><a></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">7000</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">170</span>, <span class="dv">250</span>), <span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb36-9"><a></a>  <span class="fu">guides</span>(<span class="at">y =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>), <span class="at">x =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>)) <span class="sc">+</span></span>
<span id="cb36-10"><a></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb36-11"><a></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Now, let’s take into account another variable: a penguin’s flipper length</p>
<p><span class="fragment">Just the mean no longer seems like our line of best fit</span></p>
</div></div>
</section>
<section id="regression-example-in-r-adding-a-predictor" class="slide level2">
<h2>Regression Example in R: Adding a predictor</h2>
<div class="fragment">
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a></a>penguins_m1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(body_mass_g <span class="sc">~</span> flipper_length_mm, <span class="at">data =</span> penguins)</span>
<span id="cb37-2"><a></a><span class="fu">summary</span>(penguins_m1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = body_mass_g ~ flipper_length_mm, data = penguins)

Residuals:
     Min       1Q   Median       3Q      Max 
-1058.80  -259.27   -26.88   247.33  1288.69 

Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       -5780.831    305.815  -18.90   &lt;2e-16 ***
flipper_length_mm    49.686      1.518   32.72   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 394.3 on 340 degrees of freedom
  (2 observations deleted due to missingness)
Multiple R-squared:  0.759, Adjusted R-squared:  0.7583 
F-statistic:  1071 on 1 and 340 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</div>
</section>
<section id="regression-example-in-r-output-anatomy" class="slide level2">
<h2>Regression Example in R: Output anatomy</h2>
<div class="panel-tabset">
<ul id="tabset-13" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-13-1"><code>summary()</code></a></li><li><a href="#tabset-13-2">Coefficients</a></li><li><a href="#tabset-13-3"><span class="math inline">\(R^2\)</span></a></li><li><a href="#tabset-13-4">F-Statistic</a></li></ul>
<div class="tab-content">
<div id="tabset-13-1">
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a></a><span class="fu">summary</span>(penguins_m1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = body_mass_g ~ flipper_length_mm, data = penguins)

Residuals:
     Min       1Q   Median       3Q      Max 
-1058.80  -259.27   -26.88   247.33  1288.69 

Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       -5780.831    305.815  -18.90   &lt;2e-16 ***
flipper_length_mm    49.686      1.518   32.72   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 394.3 on 340 degrees of freedom
  (2 observations deleted due to missingness)
Multiple R-squared:  0.759, Adjusted R-squared:  0.7583 
F-statistic:  1071 on 1 and 340 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</div>
<div id="tabset-13-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a></a><span class="fu">summary</span>(penguins_m1)<span class="sc">$</span>coefficients</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                     Estimate Std. Error   t value      Pr(&gt;|t|)
(Intercept)       -5780.83136 305.814504 -18.90306  5.587301e-55
flipper_length_mm    49.68557   1.518404  32.72223 4.370681e-107</code></pre>
</div>
</div>
<div class="columns" style="font-size:70%">
<div class="column" style="width:55%;">
<p><strong><code>Estimtate</code></strong>:</p>
<p><span class="subpoint">○ <code>(Intercept)</code>: tells us the estimated outcome value when all predictors are zero.</span></p>
<p><span class="subpoint">○ Predictors: tells us the estimated change in the outcome for one unit increase in that predictor</span></p>
</div><div class="column" style="width:15%;">
<p><strong><code>Std. Error</code></strong>: estimated standard error (<span class="math inline">\(SE\)</span>) for that parameter</p>
</div><div class="column" style="width:15%;">
<p><strong><code>t value</code></strong>: <em>t</em>-statistic for a test of the null that the parameter is equal to zero</p>
</div><div class="column" style="width:15%;">
<p><strong>Pr(&gt;|t|)</strong>: <em>p</em>-value of that <em>t</em>-test</p>
</div></div>
</div>
<div id="tabset-13-3">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a></a><span class="fu">summary</span>(penguins_m1)<span class="sc">$</span>r.squared</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7589925</code></pre>
</div>
</div>
<p><strong><code>Multiple R-squared</code> aka <code>r.squared</code></strong>: Proportion of variance the model is accounting for (relative to the total variance)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a></a><span class="fu">summary</span>(penguins_m1)<span class="sc">$</span>adj.r.squared</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7582837</code></pre>
</div>
</div>
<p><strong><code>Adjusted R-squared</code> aka <code>adj.r.squared</code></strong>: Like <code>r.squared</code>, but penalizes for number of predictors</p>
</div>
<div id="tabset-13-4">
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a></a><span class="fu">summary</span>(penguins_m1)<span class="sc">$</span>fstatistic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   value    numdf    dendf 
1070.745    1.000  340.000 </code></pre>
</div>
</div>
<p><strong><code>F-statistic</code> aka <code>fstatistic</code></strong>: Tells us whether the model accounts for a statistically significant amount of variance (more on this next week!)</p>
</div>
</div>
</div>
</section>
<section id="regression-example-in-r-line-of-best-fit" class="slide level2">
<h2>Regression Example in R: Line of best fit</h2>
<p>We can extract predicted values to create our line of best fit with <code>predict(model, newdata)</code></p>
<p><span class="subpoint">○ <code>newdata</code> = dataframe containing theoretical values of the predictor(s)</span></p>
<div class="subsubpoint">
○ Should have the same column name(s)
</div>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a></a>penguins <span class="sc">|&gt;</span> <span class="fu">select</span>(flipper_length_mm) <span class="sc">|&gt;</span> <span class="fu">range</span>(<span class="at">na.rm =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 172 231</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a></a>newdata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">flipper_length_mm =</span> <span class="dv">170</span><span class="sc">:</span><span class="dv">240</span>)</span>
<span id="cb51-2"><a></a><span class="fu">head</span>(newdata, <span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   flipper_length_mm
1                170
2                171
3                172
4                173
5                174
6                175
7                176
8                177
9                178
10               179
11               180
12               181
13               182
14               183
15               184
16               185
17               186
18               187
19               188
20               189
21               190
22               191
23               192
24               193
25               194
26               195
27               196
28               197
29               198
30               199
31               200
32               201
33               202
34               203
35               204
36               205
37               206
38               207
39               208
40               209
41               210
42               211
43               212
44               213
45               214
46               215
47               216
48               217
49               218
50               219</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a></a><span class="fu">predict</span>(penguins_m1, <span class="at">newdata =</span> newdata) <span class="sc">|&gt;</span></span>
<span id="cb53-2"><a></a>  <span class="fu">head</span>(<span class="dv">32</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       1        2        3        4        5        6        7        8 
2665.715 2715.400 2765.086 2814.772 2864.457 2914.143 2963.828 3013.514 
       9       10       11       12       13       14       15       16 
3063.199 3112.885 3162.571 3212.256 3261.942 3311.627 3361.313 3410.998 
      17       18       19       20       21       22       23       24 
3460.684 3510.370 3560.055 3609.741 3659.426 3709.112 3758.797 3808.483 
      25       26       27       28       29       30       31       32 
3858.169 3907.854 3957.540 4007.225 4056.911 4106.596 4156.282 4205.967 </code></pre>
</div>
</div>
</div></div>
</section>
<section id="regression-example-in-r-line-of-best-fit-1" class="slide level2">
<h2>Regression Example in R: Line of best fit</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a></a>predicted_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">flipper_length_mm =</span> <span class="fu">seq</span>(<span class="dv">170</span>, <span class="dv">240</span>, <span class="dv">1</span>)) <span class="sc">|&gt;</span></span>
<span id="cb55-2"><a></a>  <span class="fu">mutate</span>(<span class="at">predicted_body_mass =</span> <span class="fu">predict</span>(penguins_m1, <span class="at">newdata =</span> <span class="fu">data.frame</span>(flipper_length_mm)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="panel-tabset">
<ul id="tabset-14" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-14-1">Plot</a></li><li><a href="#tabset-14-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-14-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-47-1.png" class="quarto-figure quarto-figure-center" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-14-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb56-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> body_mass_g, <span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb56-3"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm=</span>T)),</span>
<span id="cb56-4"><a></a>             <span class="at">color =</span> <span class="st">"seagreen3"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>, <span class="at">alpha =</span> .<span class="dv">33</span>,</span>
<span id="cb56-5"><a></a>             <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb56-6"><a></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb56-7"><a></a>    <span class="fu">geom_line</span>(<span class="at">data =</span> predicted_data,</span>
<span id="cb56-8"><a></a>            <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> predicted_body_mass),</span>
<span id="cb56-9"><a></a>            <span class="at">color =</span> <span class="st">"seagreen3"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb56-10"><a></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">170</span>, <span class="dv">210</span>, <span class="dv">250</span>)) <span class="sc">+</span></span>
<span id="cb56-11"><a></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">4500</span>, <span class="dv">7000</span>)) <span class="sc">+</span></span>
<span id="cb56-12"><a></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">7000</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">170</span>, <span class="dv">250</span>), <span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb56-13"><a></a>  <span class="fu">guides</span>(<span class="at">y =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>), <span class="at">x =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>)) <span class="sc">+</span></span>
<span id="cb56-14"><a></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb56-15"><a></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="regression-example-in-r-more-predictors" class="slide level2">
<h2>Regression Example in R: More predictors</h2>
<p>We can add predictors to the right hand side of the formula with <code>+</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a></a>penguins_m2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(body_mass_g <span class="sc">~</span> flipper_length_mm <span class="sc">+</span> bill_length_mm, <span class="at">data =</span> penguins)</span>
<span id="cb57-2"><a></a><span class="fu">summary</span>(penguins_m2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = body_mass_g ~ flipper_length_mm + bill_length_mm, 
    data = penguins)

Residuals:
    Min      1Q  Median      3Q     Max 
-1090.5  -285.7   -32.1   244.2  1287.5 

Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       -5736.897    307.959 -18.629   &lt;2e-16 ***
flipper_length_mm    48.145      2.011  23.939   &lt;2e-16 ***
bill_length_mm        6.047      5.180   1.168    0.244    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 394.1 on 339 degrees of freedom
  (2 observations deleted due to missingness)
Multiple R-squared:   0.76, Adjusted R-squared:  0.7585 
F-statistic: 536.6 on 2 and 339 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
</section>
<section id="regression-example-in-r-more-predictors-1" class="slide level2">
<h2>Regression Example in R: More predictors</h2>
<p>Can get confidence intervals around predictions with <code>confint(model)</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a></a><span class="fu">confint</span>(penguins_m2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                        2.5 %      97.5 %
(Intercept)       -6342.64860 -5131.14573
flipper_length_mm    44.18902    52.10069
bill_length_mm       -4.14117    16.23615</code></pre>
</div>
</div>
</section>
<section id="regression-example-in-r-more-predictions" class="slide level2">
<h2>Regression Example in R: More predictions</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a></a>predicted_data_fl <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">flipper_length_mm =</span> <span class="dv">170</span><span class="sc">:</span><span class="dv">240</span>,</span>
<span id="cb61-2"><a></a>                                <span class="at">bill_length_mm =</span> <span class="fu">mean</span>(penguins<span class="sc">$</span>bill_length_mm, <span class="at">na.rm =</span> T)) <span class="sc">|&gt;</span></span>
<span id="cb61-3"><a></a>  <span class="fu">mutate</span>(<span class="at">predicted_body_mass =</span> <span class="fu">predict</span>(penguins_m2, <span class="at">newdata =</span> <span class="fu">data.frame</span>(flipper_length_mm,</span>
<span id="cb61-4"><a></a>                                                                         bill_length_mm)))</span>
<span id="cb61-5"><a></a></span>
<span id="cb61-6"><a></a>predicted_data_bl <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">flipper_length_mm =</span> <span class="fu">mean</span>(penguins<span class="sc">$</span>flipper_length_mm, <span class="at">na.rm =</span> T),</span>
<span id="cb61-7"><a></a>                                <span class="at">bill_length_mm =</span> <span class="dv">30</span><span class="sc">:</span><span class="dv">60</span>) <span class="sc">|&gt;</span></span>
<span id="cb61-8"><a></a>  <span class="fu">mutate</span>(<span class="at">predicted_body_mass =</span> <span class="fu">predict</span>(penguins_m2, <span class="at">newdata =</span> <span class="fu">data.frame</span>(flipper_length_mm,</span>
<span id="cb61-9"><a></a>                                                                         bill_length_mm)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="panel-tabset">
<ul id="tabset-15" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-15-1">Plot</a></li><li><a href="#tabset-15-2">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-15-1">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-52-1.png" class="quarto-figure quarto-figure-center" width="480"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="PSYC2020-Lab-13_files/figure-revealjs/unnamed-chunk-52-2.png" class="quarto-figure quarto-figure-center" width="480"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-15-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb62-2"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> body_mass_g, <span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb62-3"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm=</span>T)),</span>
<span id="cb62-4"><a></a>             <span class="at">color =</span> <span class="st">"seagreen3"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>, <span class="at">alpha =</span> .<span class="dv">33</span>,</span>
<span id="cb62-5"><a></a>             <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb62-6"><a></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb62-7"><a></a>    <span class="fu">geom_line</span>(<span class="at">data =</span> predicted_data_fl,</span>
<span id="cb62-8"><a></a>            <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> predicted_body_mass),</span>
<span id="cb62-9"><a></a>            <span class="at">color =</span> <span class="st">"seagreen3"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb62-10"><a></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">170</span>, <span class="dv">210</span>, <span class="dv">250</span>)) <span class="sc">+</span></span>
<span id="cb62-11"><a></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">4500</span>, <span class="dv">7000</span>)) <span class="sc">+</span></span>
<span id="cb62-12"><a></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">7000</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">170</span>, <span class="dv">250</span>), <span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb62-13"><a></a>  <span class="fu">guides</span>(<span class="at">y =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>), <span class="at">x =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>)) <span class="sc">+</span></span>
<span id="cb62-14"><a></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb62-15"><a></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span>
<span id="cb62-16"><a></a></span>
<span id="cb62-17"><a></a>penguins <span class="sc">|&gt;</span></span>
<span id="cb62-18"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> body_mass_g, <span class="at">x =</span> bill_length_mm)) <span class="sc">+</span></span>
<span id="cb62-19"><a></a>  <span class="fu">geom_hline</span>(<span class="fu">aes</span>(<span class="at">yintercept =</span> <span class="fu">mean</span>(body_mass_g, <span class="at">na.rm=</span>T)),</span>
<span id="cb62-20"><a></a>             <span class="at">color =</span> <span class="st">"seagreen3"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>, <span class="at">alpha =</span> .<span class="dv">33</span>,</span>
<span id="cb62-21"><a></a>             <span class="at">linetype =</span> <span class="st">"dashed"</span>) <span class="sc">+</span></span>
<span id="cb62-22"><a></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb62-23"><a></a>    <span class="fu">geom_line</span>(<span class="at">data =</span> predicted_data_bl,</span>
<span id="cb62-24"><a></a>            <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> predicted_body_mass),</span>
<span id="cb62-25"><a></a>            <span class="at">color =</span> <span class="st">"seagreen3"</span>, <span class="at">linewidth =</span> <span class="fl">1.5</span>) <span class="sc">+</span></span>
<span id="cb62-26"><a></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">45</span>, <span class="dv">60</span>)) <span class="sc">+</span></span>
<span id="cb62-27"><a></a>  <span class="fu">scale_y_continuous</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">4500</span>, <span class="dv">7000</span>)) <span class="sc">+</span></span>
<span id="cb62-28"><a></a>  <span class="fu">coord_cartesian</span>(<span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">2000</span>, <span class="dv">7000</span>), <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">30</span>, <span class="dv">60</span>), <span class="at">clip =</span> <span class="st">"off"</span>) <span class="sc">+</span></span>
<span id="cb62-29"><a></a>  <span class="fu">guides</span>(<span class="at">y =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>), <span class="at">x =</span> <span class="fu">guide_axis</span>(<span class="at">cap =</span> <span class="st">"both"</span>)) <span class="sc">+</span></span>
<span id="cb62-30"><a></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb62-31"><a></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="regression-example-writeup" class="slide level2">
<h2>Regression Example: Writeup</h2>
<p>Controlling for bill length, the effect of flipper length on penguins body mass was significant (<em>p</em> &lt; .001). For every mm increase in flipper length, we expect to see a 46.15g increase in body mass. Controlling for flipper length, the effect of bill length on penguins’ body mass was not significant (<em>p</em> = .244). The expected body mass when flipper length and bill length are both zero is -5736.897.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Note</strong></p>
</div>
<div class="callout-content">
<p>Why is the intercept so crazy? <span class="fragment">Because flipper length and bill length would never actually be zero!</span></p>
</div>
</div>
</div>
</section></section>
<section id="assignment-13" class="title-slide slide level1 center">
<h1>Assignment 13</h1>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1200,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp("https:\/\/jhelmer3\.github\.io\/PSYC2020L\/");
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    

</body></html>