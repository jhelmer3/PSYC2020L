<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="[name]">
<meta name="dcterms.date" content="2025-10-03">

<title>PSYC2020L Assignment 7 – PSYC 2020L</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">PSYC 2020L</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#goals-for-review" id="toc-goals-for-review" class="nav-link active" data-scroll-target="#goals-for-review">Goals for Review:</a></li>
  <li><a href="#setting-up" id="toc-setting-up" class="nav-link" data-scroll-target="#setting-up">Setting Up</a>
  <ul class="collapse">
  <li><a href="#rename-this-assignment-as-lab-7-assignment-last-first.rmd" id="toc-rename-this-assignment-as-lab-7-assignment-last-first.rmd" class="nav-link" data-scroll-target="#rename-this-assignment-as-lab-7-assignment-last-first.rmd">1) Rename this assignment as “Lab 7 Assignment [Last, First].Rmd”</a></li>
  <li><a href="#check-and-set-if-needed-your-working-directory.-if-youd-like-to-load-packages-with-library-please-do-so-in-this-block.-make-sure-to-load-the-tidyverse-package" id="toc-check-and-set-if-needed-your-working-directory.-if-youd-like-to-load-packages-with-library-please-do-so-in-this-block.-make-sure-to-load-the-tidyverse-package" class="nav-link" data-scroll-target="#check-and-set-if-needed-your-working-directory.-if-youd-like-to-load-packages-with-library-please-do-so-in-this-block.-make-sure-to-load-the-tidyverse-package">2) Check and set (if needed) your working directory. If you’d like to load packages with <code>library()</code>, please do so in this block. Make sure to load the <code>tidyverse</code> package!</a></li>
  </ul></li>
  <li><a href="#import" id="toc-import" class="nav-link" data-scroll-target="#import">Import</a>
  <ul class="collapse">
  <li><a href="#with-the-tidyverse-package-we-have-acess-to-the-diamonds-dataset.-use-three-functions-to-get-a-look-at-this-data." id="toc-with-the-tidyverse-package-we-have-acess-to-the-diamonds-dataset.-use-three-functions-to-get-a-look-at-this-data." class="nav-link" data-scroll-target="#with-the-tidyverse-package-we-have-acess-to-the-diamonds-dataset.-use-three-functions-to-get-a-look-at-this-data.">3) With the <code>tidyverse</code> package, we have acess to the <code>diamonds</code> dataset. Use three functions to get a look at this data.</a></li>
  </ul></li>
  <li><a href="#exploration" id="toc-exploration" class="nav-link" data-scroll-target="#exploration">Exploration</a>
  <ul class="collapse">
  <li><a href="#a-lets-continue-exploring-the-relationships-influencing-a-diamonds-price.-lets-start-by-building-on-what-we-saw-about-the-relationship-between-a-diamonds-quality-cut-and-its-price.-with-cut-on-the-x-axis-and-price-on-the-y-axis-make-a-violin-and-boxplot-graph." id="toc-a-lets-continue-exploring-the-relationships-influencing-a-diamonds-price.-lets-start-by-building-on-what-we-saw-about-the-relationship-between-a-diamonds-quality-cut-and-its-price.-with-cut-on-the-x-axis-and-price-on-the-y-axis-make-a-violin-and-boxplot-graph." class="nav-link" data-scroll-target="#a-lets-continue-exploring-the-relationships-influencing-a-diamonds-price.-lets-start-by-building-on-what-we-saw-about-the-relationship-between-a-diamonds-quality-cut-and-its-price.-with-cut-on-the-x-axis-and-price-on-the-y-axis-make-a-violin-and-boxplot-graph.">4a) Let’s continue exploring the relationships influencing a diamond’s <code>price</code>. Let’s start by building on what we saw about the relationship between a diamond’s quality (<code>cut</code>) and its <code>price.</code> With <code>cut</code> on the x-axis and <code>price</code> on the y-axis, make a violin and boxplot graph.</a></li>
  <li><a href="#b-make-three-modifications-to-this-visualization-that-you-think-improve-it.-describe-your-reasoning-for-each-modification." id="toc-b-make-three-modifications-to-this-visualization-that-you-think-improve-it.-describe-your-reasoning-for-each-modification." class="nav-link" data-scroll-target="#b-make-three-modifications-to-this-visualization-that-you-think-improve-it.-describe-your-reasoning-for-each-modification.">4b) Make three modifications to this visualization that you think improve it. Describe your reasoning for each modification.</a></li>
  <li><a href="#b-box-and-violinplots-are-helpful-but-it-is-also-often-helpful-to-see-the-datapoints-themselves.-the-geom_jitter-function-will-add-the-points-correctly-to-where-they-lie-on-the-y-axis-but-a-bit-scattered-around-the-x-axis-because-the-x-axis-is-not-numeric.-add-this-geom-you-may-also-want-to-decrease-the-alpha-value." id="toc-b-box-and-violinplots-are-helpful-but-it-is-also-often-helpful-to-see-the-datapoints-themselves.-the-geom_jitter-function-will-add-the-points-correctly-to-where-they-lie-on-the-y-axis-but-a-bit-scattered-around-the-x-axis-because-the-x-axis-is-not-numeric.-add-this-geom-you-may-also-want-to-decrease-the-alpha-value." class="nav-link" data-scroll-target="#b-box-and-violinplots-are-helpful-but-it-is-also-often-helpful-to-see-the-datapoints-themselves.-the-geom_jitter-function-will-add-the-points-correctly-to-where-they-lie-on-the-y-axis-but-a-bit-scattered-around-the-x-axis-because-the-x-axis-is-not-numeric.-add-this-geom-you-may-also-want-to-decrease-the-alpha-value.">4b) Box and violinplots are helpful, but it is also often helpful to see the datapoints themselves. The <code>geom_jitter()</code> function will add the points correctly to where they lie on the y-axis, but a bit scattered around the x-axis (because the x-axis is not numeric). Add this geom (you may also want to decrease the <code>alpha</code> value).</a></li>
  <li><a href="#d-what-relationships-do-we-see-in-this-plot" id="toc-d-what-relationships-do-we-see-in-this-plot" class="nav-link" data-scroll-target="#d-what-relationships-do-we-see-in-this-plot">4d) What relationship(s) do we see in this plot?</a></li>
  <li><a href="#e-say-we-wanted-to-zoom-in-on-the-distributions-of-the-lower-priced-diamonds.-make-two-different-plots-one-that-zooms-in-with-coord_cartesian-and-one-that-zooms-in-with-ggplot2s-ylim.-what-is-the-difference-and-which-one-do-you-think-is-generally-best-practice-to-use-feel-free-to-check-the-ylim-documentation." id="toc-e-say-we-wanted-to-zoom-in-on-the-distributions-of-the-lower-priced-diamonds.-make-two-different-plots-one-that-zooms-in-with-coord_cartesian-and-one-that-zooms-in-with-ggplot2s-ylim.-what-is-the-difference-and-which-one-do-you-think-is-generally-best-practice-to-use-feel-free-to-check-the-ylim-documentation." class="nav-link" data-scroll-target="#e-say-we-wanted-to-zoom-in-on-the-distributions-of-the-lower-priced-diamonds.-make-two-different-plots-one-that-zooms-in-with-coord_cartesian-and-one-that-zooms-in-with-ggplot2s-ylim.-what-is-the-difference-and-which-one-do-you-think-is-generally-best-practice-to-use-feel-free-to-check-the-ylim-documentation.">4e) Say we wanted to zoom in on the distributions of the lower-priced diamonds. Make two different plots: one that zooms in with <code>coord_cartesian()</code>, and one that zooms in with <code>ggplot2</code>’s <code>ylim()</code>. What is the difference, and which one do you think is generally best practice to use? Feel free to check the <code>?ylim</code> documentation.</a></li>
  <li><a href="#a-lets-step-back-and-explore-the-distributions-of-the-price-variable-with-histograms.-make-two-versions-one-with-10-bins-and-one-with-50-bins.-what-do-you-notice-about-this-plot" id="toc-a-lets-step-back-and-explore-the-distributions-of-the-price-variable-with-histograms.-make-two-versions-one-with-10-bins-and-one-with-50-bins.-what-do-you-notice-about-this-plot" class="nav-link" data-scroll-target="#a-lets-step-back-and-explore-the-distributions-of-the-price-variable-with-histograms.-make-two-versions-one-with-10-bins-and-one-with-50-bins.-what-do-you-notice-about-this-plot">5a) Let’s step back and explore the distributions of the <code>price</code> variable with histograms. Make two versions: one with 10 bins and one with 50 bins. What do you notice about this plot?</a></li>
  <li><a href="#b-swap-the-histogram-to-a-geom_density-plot.-also-map-the-density-plot-line-color-to-the-cut-of-the-diamond." id="toc-b-swap-the-histogram-to-a-geom_density-plot.-also-map-the-density-plot-line-color-to-the-cut-of-the-diamond." class="nav-link" data-scroll-target="#b-swap-the-histogram-to-a-geom_density-plot.-also-map-the-density-plot-line-color-to-the-cut-of-the-diamond.">5b) Swap the histogram to a <code>geom_density()</code> plot. Also, map the density plot line <code>color</code> to the <code>cut</code> of the diamond.</a></li>
  <li><a href="#c-make-three-modifications-to-the-density-plot-that-you-think-improve-it.-describe-your-reasoning-for-each-modification." id="toc-c-make-three-modifications-to-the-density-plot-that-you-think-improve-it.-describe-your-reasoning-for-each-modification." class="nav-link" data-scroll-target="#c-make-three-modifications-to-the-density-plot-that-you-think-improve-it.-describe-your-reasoning-for-each-modification.">5c) Make three modifications to the density plot that you think improve it. Describe your reasoning for each modification.</a></li>
  <li><a href="#d-describe-what-you-see-in-the-plot-now.-does-this-explain-anything-you-noticed-in-5a" id="toc-d-describe-what-you-see-in-the-plot-now.-does-this-explain-anything-you-noticed-in-5a" class="nav-link" data-scroll-target="#d-describe-what-you-see-in-the-plot-now.-does-this-explain-anything-you-noticed-in-5a">5d) Describe what you see in the plot now. Does this explain anything you noticed in 5a?</a></li>
  <li><a href="#a-perhaps-the-relationship-between-diamond-quality-cut-and-price-has-to-do-with-its-size.-lets-first-look-at-the-relationship-between-price-and-size-and-then-we-will-see-if-it-can-explain-the-price.-to-do-this-create-a-cleaner-version-of-the-diamonds-dataset-in-one-pipe-that" id="toc-a-perhaps-the-relationship-between-diamond-quality-cut-and-price-has-to-do-with-its-size.-lets-first-look-at-the-relationship-between-price-and-size-and-then-we-will-see-if-it-can-explain-the-price.-to-do-this-create-a-cleaner-version-of-the-diamonds-dataset-in-one-pipe-that" class="nav-link" data-scroll-target="#a-perhaps-the-relationship-between-diamond-quality-cut-and-price-has-to-do-with-its-size.-lets-first-look-at-the-relationship-between-price-and-size-and-then-we-will-see-if-it-can-explain-the-price.-to-do-this-create-a-cleaner-version-of-the-diamonds-dataset-in-one-pipe-that">6a) Perhaps the relationship between diamond quality (<code>cut</code>) and <code>price</code> has to do with its size. Let’s first look at the relationship between <code>price</code> and size, and then we will see if it can explain the <code>price</code>. To do this, create a cleaner version of the <code>diamonds</code> dataset in one pipe that:</a></li>
  <li><a href="#b-now-lets-look-at-the-relationship-between-diamond-size-and-quality.-using-your-cleaned-dataframe-start-by-making-a-histogram-with-the-size-measurement-on-the-x-axis.-change-the-default-number-of-bins-to-a-better-one-in-your-opinion." id="toc-b-now-lets-look-at-the-relationship-between-diamond-size-and-quality.-using-your-cleaned-dataframe-start-by-making-a-histogram-with-the-size-measurement-on-the-x-axis.-change-the-default-number-of-bins-to-a-better-one-in-your-opinion." class="nav-link" data-scroll-target="#b-now-lets-look-at-the-relationship-between-diamond-size-and-quality.-using-your-cleaned-dataframe-start-by-making-a-histogram-with-the-size-measurement-on-the-x-axis.-change-the-default-number-of-bins-to-a-better-one-in-your-opinion.">6b) Now, let’s look at the relationship between diamond size and quality. Using your cleaned dataframe, start by making a histogram with the size measurement on the x-axis. Change the default number of bins to a better one (in your opinion).</a></li>
  <li><a href="#c-use-the-facet_wrap-function-to-facet-the-histogram-by-the-type-of-measurement.-you-can-use-the-scales-free_x-argument-to-let-the-x-axis-scales-automatically-generate-for-each-facet-as-opposed-to-them-all-sharing-the-same." id="toc-c-use-the-facet_wrap-function-to-facet-the-histogram-by-the-type-of-measurement.-you-can-use-the-scales-free_x-argument-to-let-the-x-axis-scales-automatically-generate-for-each-facet-as-opposed-to-them-all-sharing-the-same." class="nav-link" data-scroll-target="#c-use-the-facet_wrap-function-to-facet-the-histogram-by-the-type-of-measurement.-you-can-use-the-scales-free_x-argument-to-let-the-x-axis-scales-automatically-generate-for-each-facet-as-opposed-to-them-all-sharing-the-same.">6c) Use the <code>facet_wrap()</code> function to facet the histogram by the type of measurement. You can use the <code>scales = "free_x"</code> argument to let the x-axis scales automatically generate for each facet (as opposed to them all sharing the same).</a></li>
  <li><a href="#d-lets-add-in-the-diamond-quality-cut-as-the-fill-color.-also-change-the-position-argument-to-fill-to-best-see-the-proportions." id="toc-d-lets-add-in-the-diamond-quality-cut-as-the-fill-color.-also-change-the-position-argument-to-fill-to-best-see-the-proportions." class="nav-link" data-scroll-target="#d-lets-add-in-the-diamond-quality-cut-as-the-fill-color.-also-change-the-position-argument-to-fill-to-best-see-the-proportions.">6d) Let’s add in the diamond quality (<code>cut</code>) as the fill color. Also, change the <code>position</code> argument to <code>"fill"</code> to best see the proportions.</a></li>
  <li><a href="#e-what-do-you-see-in-this-plot-13-sentences" id="toc-e-what-do-you-see-in-this-plot-13-sentences" class="nav-link" data-scroll-target="#e-what-do-you-see-in-this-plot-13-sentences">6e) What do you see in this plot? (1–3 sentences)</a></li>
  <li><a href="#a-lets-bring-it-all-together-by-looking-at-size-cut-and-price-all-in-the-same-visualization.-still-using-your-cleaned-version-of-the-dataset-make-a-scatterplot-with-the-size-measurement-on-the-x-axis-the-price-on-the-y-axis-and-color-denoting-the-cut.-use-the-facet_wrap-function-again-to-facet-by-the-type-of-measurement.-you-may-want-to-take-down-the-alpha-value-of-the-points" id="toc-a-lets-bring-it-all-together-by-looking-at-size-cut-and-price-all-in-the-same-visualization.-still-using-your-cleaned-version-of-the-dataset-make-a-scatterplot-with-the-size-measurement-on-the-x-axis-the-price-on-the-y-axis-and-color-denoting-the-cut.-use-the-facet_wrap-function-again-to-facet-by-the-type-of-measurement.-you-may-want-to-take-down-the-alpha-value-of-the-points" class="nav-link" data-scroll-target="#a-lets-bring-it-all-together-by-looking-at-size-cut-and-price-all-in-the-same-visualization.-still-using-your-cleaned-version-of-the-dataset-make-a-scatterplot-with-the-size-measurement-on-the-x-axis-the-price-on-the-y-axis-and-color-denoting-the-cut.-use-the-facet_wrap-function-again-to-facet-by-the-type-of-measurement.-you-may-want-to-take-down-the-alpha-value-of-the-points">7a) Let’s bring it all together by looking at size, cut, and price all in the same visualization. Still using your cleaned version of the dataset, make a scatterplot with the size measurement on the x-axis, the price on the y-axis, and color denoting the cut. Use the <code>facet_wrap()</code> function again to facet by the type of measurement. You may want to take down the <code>alpha</code> value of the points!</a></li>
  <li><a href="#b-describe-what-you-see-in-this-plot.-13-sentences" id="toc-b-describe-what-you-see-in-this-plot.-13-sentences" class="nav-link" data-scroll-target="#b-describe-what-you-see-in-this-plot.-13-sentences">7b) Describe what you see in this plot. (1–3 sentences)</a></li>
  <li><a href="#c-make-three-modifications-to-this-plot-that-you-think-improve-it.-describe-your-reasoning-for-each-modification." id="toc-c-make-three-modifications-to-this-plot-that-you-think-improve-it.-describe-your-reasoning-for-each-modification." class="nav-link" data-scroll-target="#c-make-three-modifications-to-this-plot-that-you-think-improve-it.-describe-your-reasoning-for-each-modification.">7c) Make three modifications to this plot that you think improve it. Describe your reasoning for each modification.</a></li>
  </ul></li>
  <li><a href="#more-exploration" id="toc-more-exploration" class="nav-link" data-scroll-target="#more-exploration">More Exploration</a>
  <ul class="collapse">
  <li><a href="#a-start-by-plotting-the-distribution-of-your-chosen-variable-with-a-histogram.-make-sure-to-play-around-with-the-number-of-bins-to-look-for-any-interesting-trends.-for-the-question-display-one-histogram-that-either-a-has-number-of-bins-that-is-a-good-representation-of-the-data-or-b-has-number-of-bins-that-shows-something-interesting-about-the-data." id="toc-a-start-by-plotting-the-distribution-of-your-chosen-variable-with-a-histogram.-make-sure-to-play-around-with-the-number-of-bins-to-look-for-any-interesting-trends.-for-the-question-display-one-histogram-that-either-a-has-number-of-bins-that-is-a-good-representation-of-the-data-or-b-has-number-of-bins-that-shows-something-interesting-about-the-data." class="nav-link" data-scroll-target="#a-start-by-plotting-the-distribution-of-your-chosen-variable-with-a-histogram.-make-sure-to-play-around-with-the-number-of-bins-to-look-for-any-interesting-trends.-for-the-question-display-one-histogram-that-either-a-has-number-of-bins-that-is-a-good-representation-of-the-data-or-b-has-number-of-bins-that-shows-something-interesting-about-the-data.">8a) Start by plotting the distribution of your chosen variable with a histogram. Make sure to play around with the number of bins to look for any interesting trends. For the question, display one histogram that either (a) has number of bins that is a good representation of the data or (b) has number of bins that shows something interesting about the data.</a></li>
  <li><a href="#b-describe-what-you-see-in-the-histogram-12-sentences." id="toc-b-describe-what-you-see-in-the-histogram-12-sentences." class="nav-link" data-scroll-target="#b-describe-what-you-see-in-the-histogram-12-sentences.">8b) Describe what you see in the histogram (1–2 sentences).</a></li>
  <li><a href="#c-now-use-some-plot-to-look-at-this-variables-relationship-with-some-other-variable." id="toc-c-now-use-some-plot-to-look-at-this-variables-relationship-with-some-other-variable." class="nav-link" data-scroll-target="#c-now-use-some-plot-to-look-at-this-variables-relationship-with-some-other-variable.">8c) Now, use some plot to look at this variable’s relationship with some other variable.</a></li>
  <li><a href="#d-describe-what-you-see.-12-sentences" id="toc-d-describe-what-you-see.-12-sentences" class="nav-link" data-scroll-target="#d-describe-what-you-see.-12-sentences">8d) Describe what you see. (1–2 sentences)</a></li>
  <li><a href="#e-consider-a-third-variable-that-may-be-related-to-your-first-variable-or-your-second-variable-as-well.-what-would-you-expect-the-relationship-to-look-like" id="toc-e-consider-a-third-variable-that-may-be-related-to-your-first-variable-or-your-second-variable-as-well.-what-would-you-expect-the-relationship-to-look-like" class="nav-link" data-scroll-target="#e-consider-a-third-variable-that-may-be-related-to-your-first-variable-or-your-second-variable-as-well.-what-would-you-expect-the-relationship-to-look-like">8e) Consider a third variable that may be related to your first variable (or your second variable as well). What would you expect the relationship to look like?</a></li>
  <li><a href="#f-incorporate-a-third-variable-either-by-including-it-in-the-previous-plot-as-an-additional-aesthetic-or-by-making-a-separate-plot.-either-way-the-new-visualization-should-be-able-to-confirm-or-challenge-your-expectation-of-what-the-relationship-would-look-like" id="toc-f-incorporate-a-third-variable-either-by-including-it-in-the-previous-plot-as-an-additional-aesthetic-or-by-making-a-separate-plot.-either-way-the-new-visualization-should-be-able-to-confirm-or-challenge-your-expectation-of-what-the-relationship-would-look-like" class="nav-link" data-scroll-target="#f-incorporate-a-third-variable-either-by-including-it-in-the-previous-plot-as-an-additional-aesthetic-or-by-making-a-separate-plot.-either-way-the-new-visualization-should-be-able-to-confirm-or-challenge-your-expectation-of-what-the-relationship-would-look-like">8f) Incorporate a third variable, either by including it in the previous plot as an additional aesthetic or by making a separate plot. Either way, the new visualization should be able to confirm or challenge your expectation of what the relationship would look like!</a></li>
  <li><a href="#g-what-do-you-see-in-this-plot-does-it-match-your-expectations-13-sentences." id="toc-g-what-do-you-see-in-this-plot-does-it-match-your-expectations-13-sentences." class="nav-link" data-scroll-target="#g-what-do-you-see-in-this-plot-does-it-match-your-expectations-13-sentences.">8g) What do you see in this plot? Does it match your expectations? (1–3 sentences).</a></li>
  <li><a href="#h-make-three-modifications-to-this-plot-describe-your-reasoning-for-each-modification.-try-okay-if-not-to-add-a-modification-that-you-have-not-used-before." id="toc-h-make-three-modifications-to-this-plot-describe-your-reasoning-for-each-modification.-try-okay-if-not-to-add-a-modification-that-you-have-not-used-before." class="nav-link" data-scroll-target="#h-make-three-modifications-to-this-plot-describe-your-reasoning-for-each-modification.-try-okay-if-not-to-add-a-modification-that-you-have-not-used-before.">8h) Make three modifications to this plot! Describe your reasoning for each modification. Try (okay if not) to add a modification that you have not used before.</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">PSYC2020L Assignment 7</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>[name] </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 3, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="goals-for-review" class="level2">
<h2 class="anchored" data-anchor-id="goals-for-review">Goals for Review:</h2>
<ul>
<li>Exploratory Data Analysis</li>
</ul>
</section>
<section id="setting-up" class="level2">
<h2 class="anchored" data-anchor-id="setting-up">Setting Up</h2>
<section id="rename-this-assignment-as-lab-7-assignment-last-first.rmd" class="level3">
<h3 class="anchored" data-anchor-id="rename-this-assignment-as-lab-7-assignment-last-first.rmd">1) Rename this assignment as “Lab 7 Assignment [Last, First].Rmd”</h3>
</section>
<section id="check-and-set-if-needed-your-working-directory.-if-youd-like-to-load-packages-with-library-please-do-so-in-this-block.-make-sure-to-load-the-tidyverse-package" class="level3">
<h3 class="anchored" data-anchor-id="check-and-set-if-needed-your-working-directory.-if-youd-like-to-load-packages-with-library-please-do-so-in-this-block.-make-sure-to-load-the-tidyverse-package">2) Check and set (if needed) your working directory. If you’d like to load packages with <code>library()</code>, please do so in this block. Make sure to load the <code>tidyverse</code> package!</h3>
</section>
</section>
<section id="import" class="level2">
<h2 class="anchored" data-anchor-id="import">Import</h2>
<section id="with-the-tidyverse-package-we-have-acess-to-the-diamonds-dataset.-use-three-functions-to-get-a-look-at-this-data." class="level3">
<h3 class="anchored" data-anchor-id="with-the-tidyverse-package-we-have-acess-to-the-diamonds-dataset.-use-three-functions-to-get-a-look-at-this-data.">3) With the <code>tidyverse</code> package, we have acess to the <code>diamonds</code> dataset. Use three functions to get a look at this data.</h3>
</section>
</section>
<section id="exploration" class="level2">
<h2 class="anchored" data-anchor-id="exploration">Exploration</h2>
<section id="a-lets-continue-exploring-the-relationships-influencing-a-diamonds-price.-lets-start-by-building-on-what-we-saw-about-the-relationship-between-a-diamonds-quality-cut-and-its-price.-with-cut-on-the-x-axis-and-price-on-the-y-axis-make-a-violin-and-boxplot-graph." class="level3">
<h3 class="anchored" data-anchor-id="a-lets-continue-exploring-the-relationships-influencing-a-diamonds-price.-lets-start-by-building-on-what-we-saw-about-the-relationship-between-a-diamonds-quality-cut-and-its-price.-with-cut-on-the-x-axis-and-price-on-the-y-axis-make-a-violin-and-boxplot-graph.">4a) Let’s continue exploring the relationships influencing a diamond’s <code>price</code>. Let’s start by building on what we saw about the relationship between a diamond’s quality (<code>cut</code>) and its <code>price.</code> With <code>cut</code> on the x-axis and <code>price</code> on the y-axis, make a violin and boxplot graph.</h3>
</section>
<section id="b-make-three-modifications-to-this-visualization-that-you-think-improve-it.-describe-your-reasoning-for-each-modification." class="level3">
<h3 class="anchored" data-anchor-id="b-make-three-modifications-to-this-visualization-that-you-think-improve-it.-describe-your-reasoning-for-each-modification.">4b) Make three modifications to this visualization that you think improve it. Describe your reasoning for each modification.</h3>
</section>
<section id="b-box-and-violinplots-are-helpful-but-it-is-also-often-helpful-to-see-the-datapoints-themselves.-the-geom_jitter-function-will-add-the-points-correctly-to-where-they-lie-on-the-y-axis-but-a-bit-scattered-around-the-x-axis-because-the-x-axis-is-not-numeric.-add-this-geom-you-may-also-want-to-decrease-the-alpha-value." class="level3">
<h3 class="anchored" data-anchor-id="b-box-and-violinplots-are-helpful-but-it-is-also-often-helpful-to-see-the-datapoints-themselves.-the-geom_jitter-function-will-add-the-points-correctly-to-where-they-lie-on-the-y-axis-but-a-bit-scattered-around-the-x-axis-because-the-x-axis-is-not-numeric.-add-this-geom-you-may-also-want-to-decrease-the-alpha-value.">4b) Box and violinplots are helpful, but it is also often helpful to see the datapoints themselves. The <code>geom_jitter()</code> function will add the points correctly to where they lie on the y-axis, but a bit scattered around the x-axis (because the x-axis is not numeric). Add this geom (you may also want to decrease the <code>alpha</code> value).</h3>
</section>
<section id="d-what-relationships-do-we-see-in-this-plot" class="level3">
<h3 class="anchored" data-anchor-id="d-what-relationships-do-we-see-in-this-plot">4d) What relationship(s) do we see in this plot?</h3>
</section>
<section id="e-say-we-wanted-to-zoom-in-on-the-distributions-of-the-lower-priced-diamonds.-make-two-different-plots-one-that-zooms-in-with-coord_cartesian-and-one-that-zooms-in-with-ggplot2s-ylim.-what-is-the-difference-and-which-one-do-you-think-is-generally-best-practice-to-use-feel-free-to-check-the-ylim-documentation." class="level3">
<h3 class="anchored" data-anchor-id="e-say-we-wanted-to-zoom-in-on-the-distributions-of-the-lower-priced-diamonds.-make-two-different-plots-one-that-zooms-in-with-coord_cartesian-and-one-that-zooms-in-with-ggplot2s-ylim.-what-is-the-difference-and-which-one-do-you-think-is-generally-best-practice-to-use-feel-free-to-check-the-ylim-documentation.">4e) Say we wanted to zoom in on the distributions of the lower-priced diamonds. Make two different plots: one that zooms in with <code>coord_cartesian()</code>, and one that zooms in with <code>ggplot2</code>’s <code>ylim()</code>. What is the difference, and which one do you think is generally best practice to use? Feel free to check the <code>?ylim</code> documentation.</h3>
</section>
<section id="a-lets-step-back-and-explore-the-distributions-of-the-price-variable-with-histograms.-make-two-versions-one-with-10-bins-and-one-with-50-bins.-what-do-you-notice-about-this-plot" class="level3">
<h3 class="anchored" data-anchor-id="a-lets-step-back-and-explore-the-distributions-of-the-price-variable-with-histograms.-make-two-versions-one-with-10-bins-and-one-with-50-bins.-what-do-you-notice-about-this-plot">5a) Let’s step back and explore the distributions of the <code>price</code> variable with histograms. Make two versions: one with 10 bins and one with 50 bins. What do you notice about this plot?</h3>
</section>
<section id="b-swap-the-histogram-to-a-geom_density-plot.-also-map-the-density-plot-line-color-to-the-cut-of-the-diamond." class="level3">
<h3 class="anchored" data-anchor-id="b-swap-the-histogram-to-a-geom_density-plot.-also-map-the-density-plot-line-color-to-the-cut-of-the-diamond.">5b) Swap the histogram to a <code>geom_density()</code> plot. Also, map the density plot line <code>color</code> to the <code>cut</code> of the diamond.</h3>
</section>
<section id="c-make-three-modifications-to-the-density-plot-that-you-think-improve-it.-describe-your-reasoning-for-each-modification." class="level3">
<h3 class="anchored" data-anchor-id="c-make-three-modifications-to-the-density-plot-that-you-think-improve-it.-describe-your-reasoning-for-each-modification.">5c) Make three modifications to the density plot that you think improve it. Describe your reasoning for each modification.</h3>
</section>
<section id="d-describe-what-you-see-in-the-plot-now.-does-this-explain-anything-you-noticed-in-5a" class="level3">
<h3 class="anchored" data-anchor-id="d-describe-what-you-see-in-the-plot-now.-does-this-explain-anything-you-noticed-in-5a">5d) Describe what you see in the plot now. Does this explain anything you noticed in 5a?</h3>
</section>
<section id="a-perhaps-the-relationship-between-diamond-quality-cut-and-price-has-to-do-with-its-size.-lets-first-look-at-the-relationship-between-price-and-size-and-then-we-will-see-if-it-can-explain-the-price.-to-do-this-create-a-cleaner-version-of-the-diamonds-dataset-in-one-pipe-that" class="level3">
<h3 class="anchored" data-anchor-id="a-perhaps-the-relationship-between-diamond-quality-cut-and-price-has-to-do-with-its-size.-lets-first-look-at-the-relationship-between-price-and-size-and-then-we-will-see-if-it-can-explain-the-price.-to-do-this-create-a-cleaner-version-of-the-diamonds-dataset-in-one-pipe-that">6a) Perhaps the relationship between diamond quality (<code>cut</code>) and <code>price</code> has to do with its size. Let’s first look at the relationship between <code>price</code> and size, and then we will see if it can explain the <code>price</code>. To do this, create a cleaner version of the <code>diamonds</code> dataset in one pipe that:</h3>
<ol type="1">
<li><p>Has <code>x</code>, <code>y</code>, and <code>z</code> each in their own row for each diamond,</p></li>
<li><p>Uses <code>mutate()</code> to change diamond sizes at 0mm or above 20mm to <code>NA</code> (based on what we saw in class), and</p></li>
<li><p>Changes the <code>x</code>, <code>y</code>, and <code>z</code> variables to be a factor with labels indicating the dimension they measure (feel free to reference <code>?diamonds</code> for data information and <code>?factor</code> for factor syntax).</p></li>
</ol>
</section>
<section id="b-now-lets-look-at-the-relationship-between-diamond-size-and-quality.-using-your-cleaned-dataframe-start-by-making-a-histogram-with-the-size-measurement-on-the-x-axis.-change-the-default-number-of-bins-to-a-better-one-in-your-opinion." class="level3">
<h3 class="anchored" data-anchor-id="b-now-lets-look-at-the-relationship-between-diamond-size-and-quality.-using-your-cleaned-dataframe-start-by-making-a-histogram-with-the-size-measurement-on-the-x-axis.-change-the-default-number-of-bins-to-a-better-one-in-your-opinion.">6b) Now, let’s look at the relationship between diamond size and quality. Using your cleaned dataframe, start by making a histogram with the size measurement on the x-axis. Change the default number of bins to a better one (in your opinion).</h3>
</section>
<section id="c-use-the-facet_wrap-function-to-facet-the-histogram-by-the-type-of-measurement.-you-can-use-the-scales-free_x-argument-to-let-the-x-axis-scales-automatically-generate-for-each-facet-as-opposed-to-them-all-sharing-the-same." class="level3">
<h3 class="anchored" data-anchor-id="c-use-the-facet_wrap-function-to-facet-the-histogram-by-the-type-of-measurement.-you-can-use-the-scales-free_x-argument-to-let-the-x-axis-scales-automatically-generate-for-each-facet-as-opposed-to-them-all-sharing-the-same.">6c) Use the <code>facet_wrap()</code> function to facet the histogram by the type of measurement. You can use the <code>scales = "free_x"</code> argument to let the x-axis scales automatically generate for each facet (as opposed to them all sharing the same).</h3>
</section>
<section id="d-lets-add-in-the-diamond-quality-cut-as-the-fill-color.-also-change-the-position-argument-to-fill-to-best-see-the-proportions." class="level3">
<h3 class="anchored" data-anchor-id="d-lets-add-in-the-diamond-quality-cut-as-the-fill-color.-also-change-the-position-argument-to-fill-to-best-see-the-proportions.">6d) Let’s add in the diamond quality (<code>cut</code>) as the fill color. Also, change the <code>position</code> argument to <code>"fill"</code> to best see the proportions.</h3>
</section>
<section id="e-what-do-you-see-in-this-plot-13-sentences" class="level3">
<h3 class="anchored" data-anchor-id="e-what-do-you-see-in-this-plot-13-sentences">6e) What do you see in this plot? (1–3 sentences)</h3>
</section>
<section id="a-lets-bring-it-all-together-by-looking-at-size-cut-and-price-all-in-the-same-visualization.-still-using-your-cleaned-version-of-the-dataset-make-a-scatterplot-with-the-size-measurement-on-the-x-axis-the-price-on-the-y-axis-and-color-denoting-the-cut.-use-the-facet_wrap-function-again-to-facet-by-the-type-of-measurement.-you-may-want-to-take-down-the-alpha-value-of-the-points" class="level3">
<h3 class="anchored" data-anchor-id="a-lets-bring-it-all-together-by-looking-at-size-cut-and-price-all-in-the-same-visualization.-still-using-your-cleaned-version-of-the-dataset-make-a-scatterplot-with-the-size-measurement-on-the-x-axis-the-price-on-the-y-axis-and-color-denoting-the-cut.-use-the-facet_wrap-function-again-to-facet-by-the-type-of-measurement.-you-may-want-to-take-down-the-alpha-value-of-the-points">7a) Let’s bring it all together by looking at size, cut, and price all in the same visualization. Still using your cleaned version of the dataset, make a scatterplot with the size measurement on the x-axis, the price on the y-axis, and color denoting the cut. Use the <code>facet_wrap()</code> function again to facet by the type of measurement. You may want to take down the <code>alpha</code> value of the points!</h3>
</section>
<section id="b-describe-what-you-see-in-this-plot.-13-sentences" class="level3">
<h3 class="anchored" data-anchor-id="b-describe-what-you-see-in-this-plot.-13-sentences">7b) Describe what you see in this plot. (1–3 sentences)</h3>
</section>
<section id="c-make-three-modifications-to-this-plot-that-you-think-improve-it.-describe-your-reasoning-for-each-modification." class="level3">
<h3 class="anchored" data-anchor-id="c-make-three-modifications-to-this-plot-that-you-think-improve-it.-describe-your-reasoning-for-each-modification.">7c) Make three modifications to this plot that you think improve it. Describe your reasoning for each modification.</h3>
</section>
</section>
<section id="more-exploration" class="level2">
<h2 class="anchored" data-anchor-id="more-exploration">More Exploration</h2>
<p>To finish up, you’re going to do some exploratory data analysis on your own! Pick a variable that’s not size or price, and explore its relationship other variables (other variable can be size or price). This section will be pretty open-ended, so feel free to explore and play around with this data!</p>
<section id="a-start-by-plotting-the-distribution-of-your-chosen-variable-with-a-histogram.-make-sure-to-play-around-with-the-number-of-bins-to-look-for-any-interesting-trends.-for-the-question-display-one-histogram-that-either-a-has-number-of-bins-that-is-a-good-representation-of-the-data-or-b-has-number-of-bins-that-shows-something-interesting-about-the-data." class="level3">
<h3 class="anchored" data-anchor-id="a-start-by-plotting-the-distribution-of-your-chosen-variable-with-a-histogram.-make-sure-to-play-around-with-the-number-of-bins-to-look-for-any-interesting-trends.-for-the-question-display-one-histogram-that-either-a-has-number-of-bins-that-is-a-good-representation-of-the-data-or-b-has-number-of-bins-that-shows-something-interesting-about-the-data.">8a) Start by plotting the distribution of your chosen variable with a histogram. Make sure to play around with the number of bins to look for any interesting trends. For the question, display one histogram that either (a) has number of bins that is a good representation of the data or (b) has number of bins that shows something interesting about the data.</h3>
</section>
<section id="b-describe-what-you-see-in-the-histogram-12-sentences." class="level3">
<h3 class="anchored" data-anchor-id="b-describe-what-you-see-in-the-histogram-12-sentences.">8b) Describe what you see in the histogram (1–2 sentences).</h3>
</section>
<section id="c-now-use-some-plot-to-look-at-this-variables-relationship-with-some-other-variable." class="level3">
<h3 class="anchored" data-anchor-id="c-now-use-some-plot-to-look-at-this-variables-relationship-with-some-other-variable.">8c) Now, use some plot to look at this variable’s relationship with some other variable.</h3>
</section>
<section id="d-describe-what-you-see.-12-sentences" class="level3">
<h3 class="anchored" data-anchor-id="d-describe-what-you-see.-12-sentences">8d) Describe what you see. (1–2 sentences)</h3>
</section>
<section id="e-consider-a-third-variable-that-may-be-related-to-your-first-variable-or-your-second-variable-as-well.-what-would-you-expect-the-relationship-to-look-like" class="level3">
<h3 class="anchored" data-anchor-id="e-consider-a-third-variable-that-may-be-related-to-your-first-variable-or-your-second-variable-as-well.-what-would-you-expect-the-relationship-to-look-like">8e) Consider a third variable that may be related to your first variable (or your second variable as well). What would you expect the relationship to look like?</h3>
</section>
<section id="f-incorporate-a-third-variable-either-by-including-it-in-the-previous-plot-as-an-additional-aesthetic-or-by-making-a-separate-plot.-either-way-the-new-visualization-should-be-able-to-confirm-or-challenge-your-expectation-of-what-the-relationship-would-look-like" class="level3">
<h3 class="anchored" data-anchor-id="f-incorporate-a-third-variable-either-by-including-it-in-the-previous-plot-as-an-additional-aesthetic-or-by-making-a-separate-plot.-either-way-the-new-visualization-should-be-able-to-confirm-or-challenge-your-expectation-of-what-the-relationship-would-look-like">8f) Incorporate a third variable, either by including it in the previous plot as an additional aesthetic or by making a separate plot. Either way, the new visualization should be able to confirm or challenge your expectation of what the relationship would look like!</h3>
</section>
<section id="g-what-do-you-see-in-this-plot-does-it-match-your-expectations-13-sentences." class="level3">
<h3 class="anchored" data-anchor-id="g-what-do-you-see-in-this-plot-does-it-match-your-expectations-13-sentences.">8g) What do you see in this plot? Does it match your expectations? (1–3 sentences).</h3>
</section>
<section id="h-make-three-modifications-to-this-plot-describe-your-reasoning-for-each-modification.-try-okay-if-not-to-add-a-modification-that-you-have-not-used-before." class="level3">
<h3 class="anchored" data-anchor-id="h-make-three-modifications-to-this-plot-describe-your-reasoning-for-each-modification.-try-okay-if-not-to-add-a-modification-that-you-have-not-used-before.">8h) Make three modifications to this plot! Describe your reasoning for each modification. Try (okay if not) to add a modification that you have not used before.</h3>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/jhelmer3\.github\.io\/PSYC2020L\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>