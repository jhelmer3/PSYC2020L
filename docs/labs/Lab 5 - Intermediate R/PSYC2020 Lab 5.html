<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Jessica Helmer">

<title>Intermediate R: tidyverse – PSYC 2020L</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-ea385d0e468b0dd5ea5bf0780b1290d9.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-dfb324f25d9b1687192fa8be62ac8f9c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">PSYC 2020L</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#outline" id="toc-outline" class="nav-link active" data-scroll-target="#outline">Outline</a></li>
  <li><a href="#housekeeping" id="toc-housekeeping" class="nav-link" data-scroll-target="#housekeeping">Housekeeping</a></li>
  <li><a href="#assignment-4-review" id="toc-assignment-4-review" class="nav-link" data-scroll-target="#assignment-4-review">Assignment 4 Review</a>
  <ul class="collapse">
  <li><a href="#skew-vs-shift" id="toc-skew-vs-shift" class="nav-link" data-scroll-target="#skew-vs-shift">Skew vs Shift</a></li>
  </ul></li>
  <li><a href="#assignment-4-review-1" id="toc-assignment-4-review-1" class="nav-link" data-scroll-target="#assignment-4-review-1">Assignment 4 Review</a>
  <ul class="collapse">
  <li><a href="#more-draws-more-representative" id="toc-more-draws-more-representative" class="nav-link" data-scroll-target="#more-draws-more-representative">More Draws: More Representative</a></li>
  </ul></li>
  <li><a href="#assignment-4-review-2" id="toc-assignment-4-review-2" class="nav-link" data-scroll-target="#assignment-4-review-2">Assignment 4 Review</a>
  <ul class="collapse">
  <li><a href="#rmarkdown-and-working-directories" id="toc-rmarkdown-and-working-directories" class="nav-link" data-scroll-target="#rmarkdown-and-working-directories">RMarkdown and Working Directories</a></li>
  </ul></li>
  <li><a href="#the-tidyverse" id="toc-the-tidyverse" class="nav-link" data-scroll-target="#the-tidyverse">The <code>tidyverse</code></a></li>
  <li><a href="#whole-game" id="toc-whole-game" class="nav-link" data-scroll-target="#whole-game">Whole Game</a></li>
  <li><a href="#whole-game-1" id="toc-whole-game-1" class="nav-link" data-scroll-target="#whole-game-1">Whole Game</a></li>
  <li><a href="#whole-game-2" id="toc-whole-game-2" class="nav-link" data-scroll-target="#whole-game-2">Whole Game</a>
  <ul class="collapse">
  <li><a href="#import" id="toc-import" class="nav-link" data-scroll-target="#import">Import</a></li>
  <li><a href="#import-todays-dataset" id="toc-import-todays-dataset" class="nav-link" data-scroll-target="#import-todays-dataset">Import: Today’s dataset</a></li>
  <li><a href="#import-todays-dataset-1" id="toc-import-todays-dataset-1" class="nav-link" data-scroll-target="#import-todays-dataset-1">Import: Today’s dataset</a></li>
  <li><a href="#import-todays-dataset-2" id="toc-import-todays-dataset-2" class="nav-link" data-scroll-target="#import-todays-dataset-2">Import: Today’s dataset</a></li>
  </ul></li>
  <li><a href="#whole-game-3" id="toc-whole-game-3" class="nav-link" data-scroll-target="#whole-game-3">Whole Game</a>
  <ul class="collapse">
  <li><a href="#tidy" id="toc-tidy" class="nav-link" data-scroll-target="#tidy">Tidy</a></li>
  <li><a href="#tidy-1" id="toc-tidy-1" class="nav-link" data-scroll-target="#tidy-1">Tidy</a></li>
  <li><a href="#tidy-principles" id="toc-tidy-principles" class="nav-link" data-scroll-target="#tidy-principles">Tidy: Principles</a></li>
  <li><a href="#tidy-why-tidy" id="toc-tidy-why-tidy" class="nav-link" data-scroll-target="#tidy-why-tidy">Tidy: Why tidy?</a></li>
  <li><a href="#tidy-is-our-data-tidy" id="toc-tidy-is-our-data-tidy" class="nav-link" data-scroll-target="#tidy-is-our-data-tidy">Tidy: Is our data tidy?</a></li>
  <li><a href="#tidy-for-later" id="toc-tidy-for-later" class="nav-link" data-scroll-target="#tidy-for-later">Tidy: For later…</a></li>
  </ul></li>
  <li><a href="#whole-game-4" id="toc-whole-game-4" class="nav-link" data-scroll-target="#whole-game-4">Whole Game</a>
  <ul class="collapse">
  <li><a href="#transform" id="toc-transform" class="nav-link" data-scroll-target="#transform">Transform</a></li>
  <li><a href="#transform-tidyverse-syntax" id="toc-transform-tidyverse-syntax" class="nav-link" data-scroll-target="#transform-tidyverse-syntax">Transform: <code>tidyverse</code> syntax</a></li>
  <li><a href="#transform-load-the-tidyverse" id="toc-transform-load-the-tidyverse" class="nav-link" data-scroll-target="#transform-load-the-tidyverse">Transform: Load the <code>tidyverse</code></a></li>
  <li><a href="#transform-more-tidyverse-syntax" id="toc-transform-more-tidyverse-syntax" class="nav-link" data-scroll-target="#transform-more-tidyverse-syntax">Transform: More <code>tidyverse</code> syntax</a></li>
  <li><a href="#transform-goals-for-our-data" id="toc-transform-goals-for-our-data" class="nav-link" data-scroll-target="#transform-goals-for-our-data">Transform: Goals for our data</a></li>
  <li><a href="#transform-goals-for-our-data-1" id="toc-transform-goals-for-our-data-1" class="nav-link" data-scroll-target="#transform-goals-for-our-data-1">Transform: Goals for our data</a></li>
  <li><a href="#transform-goals-for-our-data-2" id="toc-transform-goals-for-our-data-2" class="nav-link" data-scroll-target="#transform-goals-for-our-data-2">Transform: Goals for our data</a></li>
  <li><a href="#transform-gameplan" id="toc-transform-gameplan" class="nav-link" data-scroll-target="#transform-gameplan">Transform: Gameplan</a></li>
  <li><a href="#transform-factor-variables" id="toc-transform-factor-variables" class="nav-link" data-scroll-target="#transform-factor-variables">Transform: Factor Variables</a></li>
  <li><a href="#transform-factor-variables-1" id="toc-transform-factor-variables-1" class="nav-link" data-scroll-target="#transform-factor-variables-1">Transform: Factor Variables</a></li>
  <li><a href="#transform-some-relevant-functions" id="toc-transform-some-relevant-functions" class="nav-link" data-scroll-target="#transform-some-relevant-functions">Transform: Some relevant functions</a></li>
  <li><a href="#transform-sample-code" id="toc-transform-sample-code" class="nav-link" data-scroll-target="#transform-sample-code">Transform: Sample code</a></li>
  <li><a href="#transform-sample-code-1" id="toc-transform-sample-code-1" class="nav-link" data-scroll-target="#transform-sample-code-1">Transform: Sample code</a></li>
  </ul></li>
  <li><a href="#whole-game-5" id="toc-whole-game-5" class="nav-link" data-scroll-target="#whole-game-5">Whole Game</a>
  <ul class="collapse">
  <li><a href="#visualize" id="toc-visualize" class="nav-link" data-scroll-target="#visualize">Visualize</a></li>
  <li><a href="#visualize-ggplot2" id="toc-visualize-ggplot2" class="nav-link" data-scroll-target="#visualize-ggplot2">Visualize: <code>ggplot2</code></a></li>
  <li><a href="#visualize-ggplot2-1" id="toc-visualize-ggplot2-1" class="nav-link" data-scroll-target="#visualize-ggplot2-1">Visualize: <code>ggplot2</code></a></li>
  <li><a href="#visualize-ggplot2-2" id="toc-visualize-ggplot2-2" class="nav-link" data-scroll-target="#visualize-ggplot2-2">Visualize: <code>ggplot2</code></a></li>
  <li><a href="#visualize-ggplot2-3" id="toc-visualize-ggplot2-3" class="nav-link" data-scroll-target="#visualize-ggplot2-3">Visualize: <code>ggplot2</code></a></li>
  <li><a href="#visualize-ggplot2-4" id="toc-visualize-ggplot2-4" class="nav-link" data-scroll-target="#visualize-ggplot2-4">Visualize: <code>ggplot2</code></a></li>
  <li><a href="#visualize-ggplot2-5" id="toc-visualize-ggplot2-5" class="nav-link" data-scroll-target="#visualize-ggplot2-5">Visualize: <code>ggplot2</code></a></li>
  <li><a href="#visualize-ggplot2-6" id="toc-visualize-ggplot2-6" class="nav-link" data-scroll-target="#visualize-ggplot2-6">Visualize: <code>ggplot2</code></a></li>
  <li><a href="#visualize-ggplot2-7" id="toc-visualize-ggplot2-7" class="nav-link" data-scroll-target="#visualize-ggplot2-7">Visualize: <code>ggplot2</code></a></li>
  <li><a href="#visualize-ggplot2-8" id="toc-visualize-ggplot2-8" class="nav-link" data-scroll-target="#visualize-ggplot2-8">Visualize: <code>ggplot2</code></a></li>
  <li><a href="#visualize-ggplot2-9" id="toc-visualize-ggplot2-9" class="nav-link" data-scroll-target="#visualize-ggplot2-9">Visualize: <code>ggplot2</code></a></li>
  </ul></li>
  <li><a href="#whole-game-6" id="toc-whole-game-6" class="nav-link" data-scroll-target="#whole-game-6">Whole Game</a>
  <ul class="collapse">
  <li><a href="#model" id="toc-model" class="nav-link" data-scroll-target="#model">Model</a></li>
  </ul></li>
  <li><a href="#whole-game-7" id="toc-whole-game-7" class="nav-link" data-scroll-target="#whole-game-7">Whole Game</a>
  <ul class="collapse">
  <li><a href="#communicate" id="toc-communicate" class="nav-link" data-scroll-target="#communicate">Communicate</a></li>
  <li><a href="#communicate-pulse-measurements" id="toc-communicate-pulse-measurements" class="nav-link" data-scroll-target="#communicate-pulse-measurements">Communicate: Pulse Measurements</a></li>
  </ul></li>
  <li><a href="#assignment-5" id="toc-assignment-5" class="nav-link" data-scroll-target="#assignment-5">Assignment 5</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="PSYC2020 Lab 5.html"><i class="bi bi-file-slides"></i>RevealJS (live)</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Intermediate R: <code>tidyverse</code></h1>
<p class="subtitle lead">PSYC 2020-A01 / PSYC 6022-A01 | 2025-09-19 | Lab 5</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Jessica Helmer </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="outline" class="level2">
<h2 class="anchored" data-anchor-id="outline">Outline</h2>
<ul>
<li>Assignment 4 Review</li>
<li><code>tidyverse</code> Workflow</li>
<li>Full Analysis</li>
</ul>
<p>Learning objectives:<br>
<strong>R:</strong> <code>tidyverse</code></p>
</section>
<section id="housekeeping" class="level2">
<h2 class="anchored" data-anchor-id="housekeeping">Housekeeping</h2>
<p>How was the exam?</p>
<p>How was <code>posit::conf(2025)</code>?</p>
</section>
<section id="assignment-4-review" class="level2">
<h2 class="anchored" data-anchor-id="assignment-4-review">Assignment 4 Review</h2>
<section id="skew-vs-shift" class="level3">
<h3 class="anchored" data-anchor-id="skew-vs-shift">Skew vs Shift</h3>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell quarto-layout-panel" data-layout-ncol="3">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid" width="288"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-1-2.png" class="img-fluid" width="288"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-1-3.png" class="img-fluid" width="288"></p>
</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>)),</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>                ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> x)) <span class="sc">+</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">3.5</span>, <span class="fl">3.5</span>)) <span class="sc">+</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="at">mean =</span> <span class="dv">3</span>)),</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>                ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> x)) <span class="sc">+</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">3.5</span>, <span class="fl">3.5</span>)) <span class="sc">+</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(<span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="dv">4</span>, <span class="dv">3</span>)),</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>                ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(x))) <span class="sc">+</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">3.5</span>, <span class="fl">3.5</span>)) <span class="sc">+</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme_bw</span>(<span class="at">base_size =</span> <span class="dv">14</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="assignment-4-review-1" class="level2">
<h2 class="anchored" data-anchor-id="assignment-4-review-1">Assignment 4 Review</h2>
<section id="more-draws-more-representative" class="level3">
<h3 class="anchored" data-anchor-id="more-draws-more-representative">More Draws: More Representative</h3>
<div class="cell quarto-layout-panel" data-layout-ncol="3">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="288"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid" width="288"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-3-3.png" class="img-fluid" width="288"></p>
</div>
</div>
</div>
</section>
</section>
<section id="assignment-4-review-2" class="level2">
<h2 class="anchored" data-anchor-id="assignment-4-review-2">Assignment 4 Review</h2>
<section id="rmarkdown-and-working-directories" class="level3">
<h3 class="anchored" data-anchor-id="rmarkdown-and-working-directories">RMarkdown and Working Directories</h3>
<p>We won’t have to worry about this today, but some things we can try:</p>
<div class="columns" style="font-size:75%">
<div class="column" style="width:33%;">
<p>Make sure your .Rmd assignment file is in the same folder as your .Rproj file</p>
<p>Default directory for code chunks is folder that contains .rmd document</p>
</div><div class="column" style="width:33%;">
<p>If .Rmd file is in the same folder as your .Rproj file and <code>getwd()</code> returns a different directory than your project folder, we can try</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_knit<span class="sc">$</span><span class="fu">set</span>(<span class="at">root.dir =</span> <span class="st">'/tmp'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>or</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>here<span class="sc">::</span><span class="fu">i_am</span>(<span class="st">"any_project_subfolders/assignment.Rmd"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:33%;">
<p><img src="knit-wd.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
<section id="the-tidyverse" class="level2">
<h2 class="anchored" data-anchor-id="the-tidyverse">The <code>tidyverse</code></h2>
<div class="columns">
<div class="column">
<p>What is the <code>tidyverse</code>???</p>
<p><a href="https://www.tidyverse.org/" data-preview-link="true"><code>tidyverse</code> webpage</a></p>
<p>R packages made for data science</p>
</div><div class="column">
<p><a href="https://r4ds.hadley.nz/" class="absolute" data-top="100"><img src="r4de.jpg" class="img-fluid"></a></p>
</div>
</div>
</section>
<section id="whole-game" class="level2">
<h2 class="anchored" data-anchor-id="whole-game">Whole Game</h2>
<p>Pieces of the “whole game” of data science</p>
<p><img src="tidyflow.png" class="img-fluid"></p>
</section>
<section id="whole-game-1" class="level2">
<h2 class="anchored" data-anchor-id="whole-game-1">Whole Game</h2>
<p>Today’s plan:</p>
<ul>
<li><p>Introduce each of these principles</p></li>
<li><p>Learn about <code>tidyverse</code> syntax</p></li>
<li><p>Cover some examples of <code>tidyverse</code> functions that fall into each category</p></li>
<li><p>Conduct our first “full analysis” by following the tidy workflow</p></li>
</ul>
</section>
<section id="whole-game-2" class="level1">
<h1>Whole Game</h1>
<p><strong>Import</strong> <span style="color: #C5C5C5;">→ Tidy → Transform → Visualize → Model → Communicate</span></p>
<section id="import" class="level2">
<h2 class="anchored" data-anchor-id="import">Import</h2>
<p>Bringing our data into R</p>
<p>We’ve done this with the <code>read()</code> function family and / or the <code>rio</code> package</p>
<p>…Neither of those are <code>tidyverse</code> packages</p>
<p>But that’s fine! This step is the simplest</p>
</section>
<section id="import-todays-dataset" class="level2">
<h2 class="anchored" data-anchor-id="import-todays-dataset">Import: Today’s dataset</h2>
<p>Dataset on pulse rates before and after exercise</p>
<p>Can import from the internet</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>pulse_data <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(<span class="st">"http://www.statsci.org/data/oz/ms212.txt"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Or download the .rds file from Canvas</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>pulse_data <span class="ot">&lt;-</span> rio<span class="sc">::</span><span class="fu">import</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"labs"</span>, <span class="st">"Lab 5 - Intermediate R"</span>, <span class="st">"pulserates.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>.rds is a file extension for R objects</p>
</section>
<section id="import-todays-dataset-1" class="level2">
<h2 class="anchored" data-anchor-id="import-todays-dataset-1">Import: Today’s dataset</h2>
<div style="font-size:75%">
<table class="caption-top table">
<colgroup>
<col style="width: 12%">
<col style="width: 87%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Height</td>
<td>Height (cm)</td>
</tr>
<tr class="even">
<td>Weight</td>
<td>Weight (kg)</td>
</tr>
<tr class="odd">
<td>Age</td>
<td>Age (years)</td>
</tr>
<tr class="even">
<td>Gender</td>
<td>Sex (1 = male, 2 = female)</td>
</tr>
<tr class="odd">
<td>Smokes</td>
<td>Regular smoker? (1 = yes, 2 = no)</td>
</tr>
<tr class="even">
<td>Alcohol</td>
<td>Regular drinker? (1 = yes, 2 = no)</td>
</tr>
<tr class="odd">
<td>Exercise</td>
<td>Frequency of exercise (1 = high, 2 = moderate, 3 = low)</td>
</tr>
<tr class="even">
<td>Ran</td>
<td>Whether the student ran or sat between the measurements (1 = ran, 2 = sat)</td>
</tr>
<tr class="odd">
<td>Pulse1</td>
<td>First pulse measurement (rate per minute)</td>
</tr>
<tr class="even">
<td>Pulse2</td>
<td>Second pulse measurement (rate per minute)</td>
</tr>
<tr class="odd">
<td>Year</td>
<td>Year of class (93–98)</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="import-todays-dataset-2" class="level2">
<h2 class="anchored" data-anchor-id="import-todays-dataset-2">Import: Today’s dataset</h2>
<p>Let’s check out our data</p>
<div class="cell">
<pre class="webr cell-code"><code># let's look at our data!

# summary(), str(), head()
# psych::describe()</code></pre>
</div>
</section>
</section>
<section id="whole-game-3" class="level1">
<h1>Whole Game</h1>
<p><span style="color: #C5C5C5;">Import → </span><strong>Tidy</strong><span style="color: #C5C5C5;"> → Transform → Visualize → Model → Communicate</span></p>
<section id="tidy" class="level2">
<h2 class="anchored" data-anchor-id="tidy">Tidy</h2>
<p>Refers to <em>tidy data</em></p>
<div style="font-size:75%;">
<blockquote class="blockquote">
<p>“Happy families are all alike; every unhappy family is unhappy in its own way.”<br>
— Leo Tolstoy</p>
</blockquote>
<blockquote class="blockquote">
<p>“Tidy datasets are all alike, but every messy dataset is messy in its own way.”<br>
— Hadley Wickham</p>
</blockquote>
</div>
<p>Tidy data follow a consistent set of organizational principles</p>
<p>More work up front but <strong>much</strong> easier to work with after</p>
</section>
<section id="tidy-1" class="level2">
<h2 class="anchored" data-anchor-id="tidy-1">Tidy</h2>
<div class="columns">
<div class="column" style="width:32%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  PersonId Height Weight Year
1        1    173     57   93
2        2    179     58   93
3        3    167     62   93
4        4    195     84   93
5        5    173     64   93
6        6    184     74   93</code></pre>
</div>
</div>
</div><div class="column" style="width:2%;">
<!-- spacing -->
</div><div class="column fragment fade-out" data-fragment-index="1" style="width:32%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  PersonId Year Variable Value
1        1   93   Height   173
2        1   93   Weight    57
3        2   93   Height   179
4        2   93   Weight    58
5        3   93   Height   167
6        3   93   Weight    62</code></pre>
</div>
</div>
</div><div class="column" style="width:2%;">
<!-- spacing -->
</div><div class="column fragment fade-out" data-fragment-index="1" style="width:32%;">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  PersonId HeightToWeight Year
1        1         173/57   93
2        2         179/58   93
3        3         167/62   93
4        4         195/84   93
5        5         173/64   93
6        6         184/74   93</code></pre>
</div>
</div>
</div>
</div>
<p>All of these dataframes contain the same information, but one of them is much easier to work with…</p>
<div class="fragment">
<p>Why?</p>
</div>
</section>
<section id="tidy-principles" class="level2">
<h2 class="anchored" data-anchor-id="tidy-principles">Tidy: Principles</h2>
<p>Three rules to a tidy dataset</p>
<ol type="1">
<li><p>Each variable is a column; each column is a variable.</p></li>
<li><p>Each observation is a row; each row is an observation.</p></li>
<li><p>Each value is a cell; each cell is a single value.</p></li>
</ol>
<p><img src="https://r4ds.hadley.nz/images/tidy-1.png" class="img-fluid"></p>
<div class="footer">
<p><a href="https://r4ds.hadley.nz/data-tidy.html#fig-tidy-structure" class="uri">https://r4ds.hadley.nz/data-tidy.html#fig-tidy-structure</a></p>
</div>
</section>
<section id="tidy-why-tidy" class="level2">
<h2 class="anchored" data-anchor-id="tidy-why-tidy">Tidy: Why tidy?</h2>
<ol type="1">
<li>Consistency! Any sort of consistency in your data management will be beneficial.</li>
</ol>
<div class="fragment">
<p>What’s often the primary argument of functions we’ve used?</p>
</div>
<div class="fragment">
<ol start="2" type="1">
<li>R loves vectors! Having variables in columns plays well with many functions</li>
</ol>
</div>
</section>
<section id="tidy-is-our-data-tidy" class="level2">
<h2 class="anchored" data-anchor-id="tidy-is-our-data-tidy">Tidy: Is our data tidy?</h2>
<div class="columns" style="font-size:75%">
<div class="column" style="width:70%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(pulse_data, <span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Height Weight Age Gender Smokes Alcohol Exercise Ran Pulse1 Pulse2 Year
1     173     57  18      2      2       1        2   2     86     88   93
2     179     58  19      2      2       1        2   1     82    150   93
3     167     62  18      2      2       1        1   1     96    176   93
4     195     84  18      1      2       1        1   2     71     73   93
5     173     64  18      2      2       1        3   2     90     88   93
6     184     74  22      1      2       1        3   1     78    141   93
7     162     57  20      2      2       1        2   2     68     72   93
8     169     55  18      2      2       1        2   2     71     77   93
9     164     56  19      2      2       1        1   2     68     68   93
10    168     60  23      1      2       1        2   1     88    150   93</code></pre>
</div>
</div>
</div><div class="column" style="width:30%;">
<ol type="1">
<li><p>Each variable is a column; each column is a variable.</p></li>
<li><p>Each observation is a row; each row is an observation.</p></li>
<li><p>Each value is a cell; each cell is a single value.</p></li>
</ol>
</div>
</div>
</section>
<section id="tidy-for-later" class="level2">
<h2 class="anchored" data-anchor-id="tidy-for-later">Tidy: For later…</h2>
<p>We will learn ways to make untidy data tidy in later classes</p>
<p>For now, we are good, and can proceed with our analysis!</p>
</section>
</section>
<section id="whole-game-4" class="level1">
<h1>Whole Game</h1>
<p><span style="color: #C5C5C5;">Import → Tidy → </span><strong>Transform</strong><span style="color: #C5C5C5;"> → Visualize → Model → Communicate</span></p>
<section id="transform" class="level2">
<h2 class="anchored" data-anchor-id="transform">Transform</h2>
<p>Usually, our data doesn’t come to us with the variables exactly as we want them</p>
<p>Sometimes we need…</p>
<ul>
<li><p>New variables, based on our existing data or otherwise</p></li>
<li><p>Summarized version of our dataset</p></li>
<li><p>Reordered variables</p></li>
<li><p>Etc., etc., etc. Any others?</p></li>
</ul>
</section>
<section id="transform-tidyverse-syntax" class="level2">
<h2 class="anchored" data-anchor-id="transform-tidyverse-syntax">Transform: <code>tidyverse</code> syntax</h2>
<p>The <code>tidyverse</code> website mentioned that each package shares a common language for their functions</p>
<p>Based off of <code>dplyr</code> (one of the packages) verbs</p>
<ol type="1">
<li><p>The first argument is always a data frame.</p></li>
<li><p>The subsequent arguments typically describe which columns to operate on using the variable names (without quotes).</p></li>
<li><p>The output is always a new data frame.</p></li>
</ol>
<div class="footer">
<p><a href="https://r4ds.hadley.nz/data-transform.html#dplyr-basics" class="uri">https://r4ds.hadley.nz/data-transform.html#dplyr-basics</a></p>
</div>
</section>
<section id="transform-load-the-tidyverse" class="level2">
<h2 class="anchored" data-anchor-id="transform-load-the-tidyverse">Transform: Load the <code>tidyverse</code></h2>
<p>Let’s get ready to actually use some <code>tidyverse</code> code!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   4.0.0     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note the <code>Conflicts</code> section! Remember when we talked about overwriting?</p>
</div>
</div>
</section>
<section id="transform-more-tidyverse-syntax" class="level2">
<h2 class="anchored" data-anchor-id="transform-more-tidyverse-syntax">Transform: More <code>tidyverse</code> syntax</h2>
<p>One more thing…</p>
<p><code>tidyverse</code> verbs work best in a <strong>pipe</strong>: |&gt;</p>
<div class="columns">
<div class="column">
<p>How we’ve been using functions:</p>
<p><code>output &lt;- function(input)</code></p>
</div><div class="column">
<p>Functions in a pipe:</p>
<p><code>output &lt;- input |&gt; function()</code></p>
</div>
</div>
<p>Why is this helpful?</p>
<div class="columns">
<div class="column fragment">
<p>Many functions together:</p>
<pre><code>anotherfunction(otherfunction(function(input)))</code></pre>
</div><div class="column fragment">
<p>Functions in a pipe:</p>
<pre><code>input |&gt;
  function() |&gt;
  otherfunction() |&gt;
  another function()</code></pre>
</div>
</div>
</section>
<section id="transform-goals-for-our-data" class="level2">
<h2 class="anchored" data-anchor-id="transform-goals-for-our-data">Transform: Goals for our data</h2>
<p>In what ways should we transform our data?</p>
<p>First, we need to figure out our questions!</p>
</section>
<section id="transform-goals-for-our-data-1" class="level2">
<h2 class="anchored" data-anchor-id="transform-goals-for-our-data-1">Transform: Goals for our data</h2>
<div style="font-size:75%">
<table class="caption-top table">
<colgroup>
<col style="width: 12%">
<col style="width: 87%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Height</td>
<td>Height (cm)</td>
</tr>
<tr class="even">
<td>Weight</td>
<td>Weight (kg)</td>
</tr>
<tr class="odd">
<td>Age</td>
<td>Age (years)</td>
</tr>
<tr class="even">
<td>Gender</td>
<td>Sex (1 = male, 2 = female)</td>
</tr>
<tr class="odd">
<td>Smokes</td>
<td>Regular smoker? (1 = yes, 2 = no)</td>
</tr>
<tr class="even">
<td>Alcohol</td>
<td>Regular drinker? (1 = yes, 2 = no)</td>
</tr>
<tr class="odd">
<td>Exercise</td>
<td>Frequency of exercise (1 = high, 2 = moderate, 3 = low)</td>
</tr>
<tr class="even">
<td>Ran</td>
<td>Whether the student ran or sat between the measurements (1 = ran, 2 = sat)</td>
</tr>
<tr class="odd">
<td>Pulse1</td>
<td>First pulse measurement (rate per minute)</td>
</tr>
<tr class="even">
<td>Pulse2</td>
<td>Second pulse measurement (rate per minute)</td>
</tr>
<tr class="odd">
<td>Year</td>
<td>Year of class (93–98)</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="transform-goals-for-our-data-2" class="level2">
<h2 class="anchored" data-anchor-id="transform-goals-for-our-data-2">Transform: Goals for our data</h2>
<p>My questions:</p>
<ol type="1">
<li><p>Is the difference in pulse between the first and second measurement points different for people who ran or not?</p></li>
<li><p>Does that difference vary by whether or not someone is a regular smoker?</p></li>
<li><p>What is the relationship between first and second pulse measurements? Does this differ by smoking status?</p></li>
<li><p>Class question!! (time pending)</p></li>
</ol>
</section>
<section id="transform-gameplan" class="level2">
<h2 class="anchored" data-anchor-id="transform-gameplan">Transform: Gameplan</h2>
<p>Transformation goals:</p>
<ol type="1">
<li><p>Make a variable with the difference between the first and second pulse measurement points</p></li>
<li><p>Code some of our numeric variables into their categories</p></li>
<li><p>Subset our data to only include the relevant columns</p></li>
<li><p>Summarize information based on our questions</p></li>
</ol>
</section>
<section id="transform-factor-variables" class="level2">
<h2 class="anchored" data-anchor-id="transform-factor-variables">Transform: Factor Variables</h2>
<p>New data type (to us): <strong>factor</strong> variable</p>
<p>How R works with categorical data</p>
<p>Sets fixed possibilities of values that the variable can take on</p>
<p>If you have a variable with days of the week…</p>
<div class="columns">
<div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>days <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Tues"</span>, <span class="st">"Wed"</span>, <span class="st">"Thurs"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Nothing preventing typos and no sensible sorting</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>moredays <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Teus"</span>, <span class="st">"Wed"</span>, <span class="st">"Thrus"</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(days)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Thurs" "Tues"  "Wed"  </code></pre>
</div>
</div>
</div><div class="column fragment">
<p>Factors help with both. Start by creating a vector of <em>levels</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>weekday_levels <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Mon"</span>, <span class="st">"Tues"</span>, <span class="st">"Wed"</span>, <span class="st">"Thurs"</span>, <span class="st">"Fri"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>And now make a factor</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>days_fct <span class="ot">&lt;-</span> <span class="fu">factor</span>(days, <span class="at">levels =</span> weekday_levels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="transform-factor-variables-1" class="level2">
<h2 class="anchored" data-anchor-id="transform-factor-variables-1">Transform: Factor Variables</h2>
<p>Will convert to <code>NA</code> if not valid level</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">factor</span>(moredays, <span class="at">levels =</span> weekday_levels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] &lt;NA&gt; Wed  &lt;NA&gt;
Levels: Mon Tues Wed Thurs Fri</code></pre>
</div>
</div>
<p>Better sorting</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(days_fct)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] Tues  Wed   Thurs
Levels: Mon Tues Wed Thurs Fri</code></pre>
</div>
</div>
</section>
<section id="transform-some-relevant-functions" class="level2">
<h2 class="anchored" data-anchor-id="transform-some-relevant-functions">Transform: Some relevant functions</h2>
<div style="font-size:60%">
<table class="caption-top table">
<tbody>
<tr class="odd">
<td><code>mutate()</code></td>
<td>adds, changes, renames columns</td>
</tr>
<tr class="even">
<td><code>factor()</code></td>
<td>converts numeric to factor data type</td>
</tr>
<tr class="odd">
<td><code>select()</code></td>
<td>selects specified columns</td>
</tr>
<tr class="even">
<td><code>filter()</code></td>
<td>selects specified rows</td>
</tr>
<tr class="odd">
<td><code>summarize()</code></td>
<td>summarizes data</td>
</tr>
</tbody>
</table>
</div>
<p>Switching to RStudio…</p>
</section>
<section id="transform-sample-code" class="level2">
<h2 class="anchored" data-anchor-id="transform-sample-code">Transform: Sample code</h2>
<section id="goal-1-2-and-3" class="level4">
<h4 class="anchored" data-anchor-id="goal-1-2-and-3">Goal 1, 2, and 3:</h4>
<ol type="1">
<li><p>Make a variable with the difference between the first and second pulse measurement points</p></li>
<li><p>Code some of our numeric variables into their categories</p></li>
<li><p>Subset our data to only include the relevant columns</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>pulse_subset <span class="ot">&lt;-</span> pulse_data <span class="sc">|&gt;</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">PulseDiff =</span> Pulse2 <span class="sc">-</span> Pulse1,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">Smokes =</span> <span class="fu">factor</span>(Smokes, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Yes"</span>, <span class="st">"No"</span>)),</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">Ran =</span> <span class="fu">factor</span>(Ran, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Ran"</span>, <span class="st">"Sat"</span>))) <span class="sc">|&gt;</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Smokes, Ran, Pulse1, Pulse2, PulseDiff)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="transform-sample-code-1" class="level2">
<h2 class="anchored" data-anchor-id="transform-sample-code-1">Transform: Sample code</h2>
<section id="goal-4" class="level4">
<h4 class="anchored" data-anchor-id="goal-4">Goal 4:</h4>
<ol start="4" type="1">
<li>Summarize information based on our questions</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>pulse_subset <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">.by =</span> Ran,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">PulseDiffMean =</span> <span class="fu">mean</span>(PulseDiff, <span class="at">na.rm=</span>T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Ran PulseDiffMean
1 Sat       -1.0000
2 Ran       51.3913</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>pulse_subset <span class="sc">|&gt;</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">.by =</span> <span class="fu">c</span>(Ran, Smokes),</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">PulseDiffMean =</span> <span class="fu">mean</span>(PulseDiff, <span class="at">na.rm=</span>T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Ran Smokes PulseDiffMean
1 Sat     No    -0.8363636
2 Ran     No    51.6511628
3 Sat    Yes    -2.1250000
4 Ran    Yes    47.6666667</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="whole-game-5" class="level1">
<h1>Whole Game</h1>
<p><span style="color: #C5C5C5;">Import → Tidy → Transform → </span><strong>Visualize</strong><span style="color: #C5C5C5;"> → Model → Communicate</span></p>
<section id="visualize" class="level2">
<h2 class="anchored" data-anchor-id="visualize">Visualize</h2>
<p>So many numbers! Can we please visualize our data?</p>
<div style="font-size:75%;">
<blockquote class="blockquote">
<p>“The simple graph has brought more information to the data analyst’s mind than any other device.” — John Tukey</p>
</blockquote>
</div>
<p>Yes! With the <code>ggplot2</code> package</p>
<p>A bit of a different plotting system than we’ve done before</p>
<p>But much more expansive and flexible (and much nicer looking, if you ask me!)</p>
</section>
<section id="visualize-ggplot2" class="level2">
<h2 class="anchored" data-anchor-id="visualize-ggplot2">Visualize: <code>ggplot2</code></h2>
<p>Let’s briefly explore a different question: what is the relationship between the pulse measurements at the two different time points?</p>
<div class="columns">
<div class="column" style="width:66%;">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<p>Let’s begin at the end:</p>
</div>
</div>
</section>
<section id="visualize-ggplot2-1" class="level2">
<h2 class="anchored" data-anchor-id="visualize-ggplot2-1">Visualize: <code>ggplot2</code></h2>
<p>Let’s briefly explore a different question: what is the relationship between the pulse measurements at the two different time points?</p>
<div class="columns" style="font-size:60%">
<div class="column" style="width:66%;">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pulse_subset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<p>When we just call the <code>ggplot()</code> function with our data as the first argument, we get this blank area</p>
<p><code>ggplot()</code> works by adding layers and layers onto a plot object</p>
<blockquote class="blockquote">
<p>This is not a very exciting plot, but you can think of it like an empty canvas you’ll paint the remaining layers of your plot onto. — R4DS</p>
</blockquote>
</div>
</div>
</section>
<section id="visualize-ggplot2-2" class="level2">
<h2 class="anchored" data-anchor-id="visualize-ggplot2-2">Visualize: <code>ggplot2</code></h2>
<p>Let’s briefly explore a different question: what is the relationship between the pulse measurements at the two different time points?</p>
<div class="columns" style="font-size:60%">
<div class="column" style="width:66%;">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pulse_subset,</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pulse1, <span class="at">y =</span> Pulse2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<p>Next, we want to tell <code>ggplot()</code> what information we want in our plot and where we want it</p>
<p>We do this with the <code>aes()</code> (“aesthetics”) function in the <code>mapping =</code> argument</p>
<p>How variables are <em>mapped</em> onto specific parts of the plot</p>
<p>To investigate the relationship between the first and second pulse measurements, we can choose to put <code>Pulse1</code> on the x-axis and <code>Pulse2</code> on the y-axis</p>
<p>What do we get?</p>
</div>
</div>
</section>
<section id="visualize-ggplot2-3" class="level2">
<h2 class="anchored" data-anchor-id="visualize-ggplot2-3">Visualize: <code>ggplot2</code></h2>
<p>Let’s briefly explore a different question: what is the relationship between the pulse measurements at the two different time points?</p>
<div class="columns" style="font-size:60%">
<div class="column" style="width:66%;">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pulse_subset,</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pulse1, <span class="at">y =</span> Pulse2)) <span class="sc">+</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<p>Still no data, though</p>
<p>Need to define some <strong>geom</strong>, a geometric display of our data</p>
<p>Will usually start with <code>geom_</code></p>
<div style="font-size:60%">
<table class="caption-top table">
<tbody>
<tr class="odd">
<td><code>geom_line()</code></td>
<td>line graph</td>
</tr>
<tr class="even">
<td><code>geom_bar()</code></td>
<td>bar graph</td>
</tr>
<tr class="odd">
<td><code>geom_boxplot()</code></td>
<td>boxplot</td>
</tr>
<tr class="even">
<td><code>geom_point()</code></td>
<td>scatterplot</td>
</tr>
</tbody>
</table>
</div>
<p>Can start addressing questions here!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Take note of the missing values warning!</p>
</div>
</div>
</div>
</div>
</section>
<section id="visualize-ggplot2-4" class="level2">
<h2 class="anchored" data-anchor-id="visualize-ggplot2-4">Visualize: <code>ggplot2</code></h2>
<p>Let’s briefly explore a different question: what is the relationship between the pulse measurements at the two different time points?</p>
<div class="columns" style="font-size:60%">
<div class="column" style="width:66%;">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pulse_subset,</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pulse1, <span class="at">y =</span> Pulse2)) <span class="sc">+</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<p>These variables are conceptually similar and should probably have the same scale</p>
<p>Automatically generated axes are a good place to start</p>
<p>But good practice to consider them each time</p>
</div>
</div>
</section>
<section id="visualize-ggplot2-5" class="level2">
<h2 class="anchored" data-anchor-id="visualize-ggplot2-5">Visualize: <code>ggplot2</code></h2>
<p>Let’s briefly explore a different question: what is the relationship between the pulse measurements at the two different time points?</p>
<div class="columns" style="font-size:60%">
<div class="column" style="width:66%;">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pulse_subset,</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pulse1, <span class="at">y =</span> Pulse2, <span class="at">color =</span> Ran)) <span class="sc">+</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<p>Adding aesthetics and layers</p>
<p>Who in this group are the people who ran?</p>
<p>Start: do we need to modify the aesthetic or the geom?</p>
<p>What can we tell from this?</p>
</div>
</div>
</section>
<section id="visualize-ggplot2-6" class="level2">
<h2 class="anchored" data-anchor-id="visualize-ggplot2-6">Visualize: <code>ggplot2</code></h2>
<p>Let’s briefly explore a different question: what is the relationship between the pulse measurements at the two different time points?</p>
<div class="columns" style="font-size:60%">
<div class="column" style="width:66%;">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pulse_subset,</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pulse1, <span class="at">y =</span> Pulse2, <span class="at">color =</span> Ran)) <span class="sc">+</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<p>Adding aesthetics and layers</p>
<p>Let’s say we want to add a line to better represent the overall trend</p>
<p>Start: do we need to modify the aesthetic or the geom?</p>
<p>What can we tell from this?</p>
</div>
</div>
</section>
<section id="visualize-ggplot2-7" class="level2">
<h2 class="anchored" data-anchor-id="visualize-ggplot2-7">Visualize: <code>ggplot2</code></h2>
<p>Let’s briefly explore a different question: what is the relationship between the pulse measurements at the two different time points?</p>
<div class="columns" style="font-size:60%">
<div class="column" style="width:66%;">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pulse_subset,</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pulse1, <span class="at">y =</span> Pulse2, <span class="at">color =</span> Ran)) <span class="sc">+</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>)) <span class="sc">+</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Smokes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<p>Let’s say we want to look at this for smokers vs non-smokers</p>
<p>What can we tell from this?</p>
</div>
</div>
</section>
<section id="visualize-ggplot2-8" class="level2">
<h2 class="anchored" data-anchor-id="visualize-ggplot2-8">Visualize: <code>ggplot2</code></h2>
<p>Let’s briefly explore a different question: what is the relationship between the pulse measurements at the two different time points?</p>
<div class="columns" style="font-size:60%">
<div class="column" style="width:66%;">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> pulse_subset,</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pulse1, <span class="at">y =</span> Pulse2, <span class="at">color =</span> Ran)) <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>)) <span class="sc">+</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Smokes) <span class="sc">+</span></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<p>Let’s say we want this plot to look nicer!!</p>
<p>Built in themes</p>
</div>
</div>
</section>
<section id="visualize-ggplot2-9" class="level2">
<h2 class="anchored" data-anchor-id="visualize-ggplot2-9">Visualize: <code>ggplot2</code></h2>
<p>Let’s briefly explore a different question: what is the relationship between the pulse measurements at the two different time points?</p>
<div class="columns" style="font-size:60%">
<div class="column" style="width:66%;">
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-10-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-1" role="tab" aria-controls="tabset-10-1" aria-selected="true">Plot</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-10-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-10-2" role="tab" aria-controls="tabset-10-2" aria-selected="false">Code</a></li></ul>
<div class="tab-content">
<div id="tabset-10-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-10-1-tab">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
<div id="tabset-10-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-10-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>pulse_subset <span class="sc">|&gt;</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Pulse1, <span class="at">y =</span> Pulse2, <span class="at">color =</span> Ran, <span class="at">fill =</span> Ran)) <span class="sc">+</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="fl">2.4</span>) <span class="sc">+</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>) <span class="sc">+</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">180</span>)) <span class="sc">+</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"First Pulse"</span>, <span class="at">y =</span> <span class="st">"Second Pulse"</span>) <span class="sc">+</span></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> Smokes, <span class="at">labeller =</span> <span class="st">"label_both"</span>) <span class="sc">+</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>(<span class="at">base_size =</span> <span class="dv">16</span>) <span class="sc">+</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">aspect.ratio =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<p>Let’s say we want this plot to look nicer!!</p>
<p>Additional theming with <code>theme()</code>, <code>labs()</code>, and various arguments</p>
</div>
</div>
</section>
</section>
<section id="whole-game-6" class="level1">
<h1>Whole Game</h1>
<p><span style="color: #C5C5C5;">Import → Tidy → Transform → Visualize → </span><strong>Model</strong><span style="color: #C5C5C5;"> → Communicate</span></p>
<section id="model" class="level2">
<h2 class="anchored" data-anchor-id="model">Model</h2>
<p>At this point, we could take the statistical models we know and apply them to the data</p>
<p>We haven’t learned many yet, but we have learned some!</p>
<p><code>mean()</code>, <code>sd()</code> could combine to model the distribution of your data, etc.</p>
<p>We will do more modeling later!</p>
</section>
</section>
<section id="whole-game-7" class="level1">
<h1>Whole Game</h1>
<p><span style="color: #C5C5C5;">Import → Tidy → Transform → Visualize → Model → </span><strong>Communicate</strong></p>
<section id="communicate" class="level2">
<h2 class="anchored" data-anchor-id="communicate">Communicate</h2>
<p>We…have already learned ways to do this with RMarkdown!</p>
<p>Statistics and visualizations are great, but to tell a good story it is often useful to accompany these with text explaining the key features or importance.</p>
<p>And we’ve been practicing this all along by describing the plots!</p>
</section>
<section id="communicate-pulse-measurements" class="level2">
<h2 class="anchored" data-anchor-id="communicate-pulse-measurements">Communicate: Pulse Measurements</h2>
<div class="columns" style="font-size:70%">
<div class="column" style="width:60%;">
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing non-finite outside the scale range
(`stat_smooth()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="PSYC2020-Lab-5_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div><div class="column" style="width:33%;">
<p>In this visualization, we can see a strong positive relationship between participants’ pulse measurements at the first time point and their pulse measurements at the second time point. We can see that the individuals who ran in between the measurements had similar values on the x-axis (the first measurement) but much higher values at the second measurement. While it seems like there may be some differences in pulse between regular smokers and non-smokers, there is much fewer observations present for non-smokers.</p>
</div>
</div>
</section>
</section>
<section id="assignment-5" class="level1">
<h1>Assignment 5</h1>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/jhelmer3\.github\.io\/PSYC2020L\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>